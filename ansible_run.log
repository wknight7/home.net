2025-07-02 18:25:04,232 p=76284 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************
2025-07-02 18:25:04,238 p=76284 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************
2025-07-02 18:25:04,247 p=76284 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "The field 'password' has an invalid value, which includes an undefined variable.. 'windows_password' is undefined"}
2025-07-02 18:25:04,247 p=76284 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************
2025-07-02 18:25:04,247 p=76284 u=bill n=ansible INFO| windows11                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-02 18:26:40,624 p=76351 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************
2025-07-02 18:26:40,630 p=76351 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************
2025-07-02 18:26:40,638 p=76351 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "The field 'password' has an invalid value, which includes an undefined variable.. 'windows_passwd' is undefined"}
2025-07-02 18:26:40,638 p=76351 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************
2025-07-02 18:26:40,638 p=76351 u=bill n=ansible INFO| windows11                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-02 18:28:10,222 p=76559 u=bill n=ansible INFO| windows11 | FAILED! => {
    "msg": "The field 'password' has an invalid value, which includes an undefined variable.. 'windows_password' is undefined"
}
2025-07-02 18:29:18,437 p=76654 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:29:18,443 p=76654 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:29:18,451 p=76654 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "The field 'password' has an invalid value, which includes an undefined variable.. 'windows_password' is undefined"}
2025-07-02 18:29:18,452 p=76654 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:29:18,452 p=76654 u=bill n=ansible INFO| windows11                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-02 18:29:41,171 p=76721 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:29:41,177 p=76721 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:29:41,186 p=76721 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "The field 'password' has an invalid value, which includes an undefined variable.. 'windows_password' is undefined"}
2025-07-02 18:29:41,186 p=76721 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:29:41,187 p=76721 u=bill n=ansible INFO| windows11                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-02 18:29:50,075 p=76758 u=bill n=ansible INFO| windows11 | FAILED! => {
    "msg": "The field 'password' has an invalid value, which includes an undefined variable.. 'windows_password' is undefined"
}
2025-07-02 18:30:51,795 p=76800 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2025-07-02 18:31:20,783 p=76929 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
2025-07-02 18:31:27,875 p=76969 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:31:27,881 p=76969 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:31:31,246 p=76969 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:31:31,249 p=76969 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 18:31:33,079 p=76969 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:31:33,082 p=76969 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:31:33,096 p=76969 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/ssh_key_management.yml for windows11
2025-07-02 18:31:33,098 p=76969 u=bill n=ansible INFO| TASK [windows : Deploy SSH public keys from vault to administrators_authorized_keys] ************************
2025-07-02 18:31:33,111 p=76969 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "The task includes an option with an undefined variable.. 'vault_bill_ssh_keys' is undefined\n\nThe error appears to be in '/home/bill/git/home.net/roles/windows/tasks/ssh_key_management.yml': line 2, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n---\n- name: Deploy SSH public keys from vault to administrators_authorized_keys\n  ^ here\n"}
2025-07-02 18:31:33,111 p=76969 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:31:33,112 p=76969 u=bill n=ansible INFO| windows11                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-02 18:32:06,814 p=77106 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:32:06,820 p=77106 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:32:09,478 p=77106 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:32:09,480 p=77106 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 18:32:10,996 p=77106 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:32:10,999 p=77106 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:32:11,012 p=77106 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:32:11,015 p=77106 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:32:11,031 p=77106 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 18:32:11,033 p=77106 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 18:32:14,473 p=77106 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"changed": true, "checksum": "9a12b472ca1b4b1744cf8d84addd37206db28ad9", "dest": "C:\\Scripts\\Map-NetworkDrives.ps1", "msg": "failed to copy file /home/bill/git/home.net/roles/windows/files/Map-NetworkDrives.ps1: Destination directory 'C:\\Scripts' does not exist", "operation": "file_copy", "original_basename": "Map-NetworkDrives.ps1", "size": 2664, "src": "Map-NetworkDrives.ps1"}
2025-07-02 18:32:14,474 p=77106 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:32:14,474 p=77106 u=bill n=ansible INFO| windows11                  : ok=3    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2025-07-02 18:32:37,467 p=77197 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:32:37,474 p=77197 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:32:40,125 p=77197 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:32:40,127 p=77197 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 18:32:41,659 p=77197 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:32:41,661 p=77197 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:32:41,673 p=77197 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:32:41,675 p=77197 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:32:41,689 p=77197 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 18:32:41,690 p=77197 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ***********************************************
2025-07-02 18:32:42,975 p=77197 u=bill n=ansible INFO| changed: [windows11]
2025-07-02 18:32:42,978 p=77197 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 18:32:46,308 p=77197 u=bill n=ansible INFO| changed: [windows11]
2025-07-02 18:32:46,310 p=77197 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *******************************************
2025-07-02 18:32:48,224 p=77197 u=bill n=ansible INFO| changed: [windows11]
2025-07-02 18:32:48,227 p=77197 u=bill n=ansible INFO| TASK [windows : Template and deploy updated script with current TrueNAS IP] *********************************
2025-07-02 18:32:49,407 p=77197 u=bill n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: [{'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\{{ truenas_server_ip }}\\home\\{{ ansible_user }}\\Documents', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\{{ truenas_server_ip }}\\home\\{{ ansible_user }}\\Downloads', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\{{ truenas_server_ip }}\\media', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\{{ truenas_server_ip }}\\paper', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\{{ truenas_server_ip }}\\shared_files', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\{{ truenas_server_ip }}\\workouts', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}]: 'truenas_smb_password' is undefined
2025-07-02 18:32:49,407 p=77197 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: [{'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\home\\\\{{ ansible_user }}\\\\Documents', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\home\\\\{{ ansible_user }}\\\\Downloads', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\media', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\paper', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\shared_files', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\workouts', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}]: 'truenas_smb_password' is undefined"}
2025-07-02 18:32:49,408 p=77197 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:32:49,408 p=77197 u=bill n=ansible INFO| windows11                  : ok=6    changed=3    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2025-07-02 18:33:05,462 p=77292 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:33:05,468 p=77292 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:33:08,145 p=77292 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:33:08,148 p=77292 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:33:08,162 p=77292 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:33:08,164 p=77292 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:33:08,164 p=77292 u=bill n=ansible INFO| windows11                  : ok=1    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-02 18:33:19,314 p=77338 u=bill n=ansible INFO| ansible-playbook [core 2.18.6]
  config file = /home/bill/git/home.net/ansible.cfg
  configured module search path = ['/home/bill/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  ansible collection location = /home/bill/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/bin/ansible-playbook
  python version = 3.12.3 (main, Jun 18 2025, 17:59:45) [GCC 13.3.0] (/usr/bin/python3)
  jinja version = 3.1.2
  libyaml = True
2025-07-02 18:33:19,315 p=77338 u=bill n=ansible INFO| Using /home/bill/git/home.net/ansible.cfg as config file
2025-07-02 18:33:19,497 p=77338 u=bill n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-07-02 18:33:19,497 p=77338 u=bill n=ansible INFO| Skipping callback 'minimal', as we already have a stdout callback.
2025-07-02 18:33:19,497 p=77338 u=bill n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-07-02 18:33:19,497 p=77338 u=bill n=ansible INFO| PLAYBOOK: windows.yml ***************************************************************************************
2025-07-02 18:33:19,497 p=77338 u=bill n=ansible INFO| 1 plays in windows.yml
2025-07-02 18:33:19,497 p=77338 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:33:19,504 p=77338 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:33:19,504 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/windows.yml:2
2025-07-02 18:33:19,512 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.setup to ansible.windows.setup
2025-07-02 18:33:22,130 p=77338 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:33:22,133 p=77338 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 18:33:22,133 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/windows.yml:7
2025-07-02 18:33:23,656 p=77338 u=bill n=ansible INFO| ok: [windows11] => {"changed": false, "elapsed": 1}
2025-07-02 18:33:23,659 p=77338 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:33:23,659 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/main.yml:2
2025-07-02 18:33:23,671 p=77338 u=bill n=ansible INFO| skipping: [windows11] => {"changed": false, "false_condition": "vault_bill_ssh_keys is defined", "skip_reason": "Conditional result was False"}
2025-07-02 18:33:23,673 p=77338 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:33:23,673 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/main.yml:7
2025-07-02 18:33:23,683 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_file to ansible.windows.win_file
2025-07-02 18:33:23,684 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_copy to ansible.windows.win_copy
2025-07-02 18:33:23,685 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_copy to ansible.windows.win_copy
2025-07-02 18:33:23,685 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_shortcut to community.windows.win_shortcut
2025-07-02 18:33:23,686 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_template to ansible.windows.win_template
2025-07-02 18:33:23,687 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_template to ansible.windows.win_template
2025-07-02 18:33:23,687 p=77338 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 18:33:23,689 p=77338 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ***********************************************
2025-07-02 18:33:23,689 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml:2
2025-07-02 18:33:23,695 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_file to ansible.windows.win_file
2025-07-02 18:33:23,696 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_file to ansible.windows.win_file
2025-07-02 18:33:24,939 p=77338 u=bill n=ansible INFO| ok: [windows11] => {"changed": false}
2025-07-02 18:33:24,942 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_copy to ansible.windows.win_copy
2025-07-02 18:33:24,943 p=77338 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 18:33:24,943 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml:8
2025-07-02 18:33:24,951 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_copy to ansible.windows.win_copy
2025-07-02 18:33:24,951 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_copy to ansible.windows.win_copy
2025-07-02 18:33:24,951 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_copy to ansible.windows.win_copy
2025-07-02 18:33:26,042 p=77338 u=bill n=ansible INFO| ok: [windows11] => {"changed": false, "checksum": "9a12b472ca1b4b1744cf8d84addd37206db28ad9", "dest": "C:\\Scripts\\Map-NetworkDrives.ps1", "operation": "file_copy", "original_basename": "Map-NetworkDrives.ps1", "size": 2664, "src": "Map-NetworkDrives.ps1"}
2025-07-02 18:33:26,044 p=77338 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *******************************************
2025-07-02 18:33:26,044 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml:15
2025-07-02 18:33:26,054 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_shortcut to community.windows.win_shortcut
2025-07-02 18:33:26,055 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_shortcut to community.windows.win_shortcut
2025-07-02 18:33:27,859 p=77338 u=bill n=ansible INFO| ok: [windows11] => {"args": "-ExecutionPolicy Bypass -File C:\\Scripts\\Map-NetworkDrives.ps1", "changed": false, "description": "Map TrueNAS network drives", "dest": "C:\\Users\\wknig\\Desktop\\Map Network Drives.lnk", "directory": "", "hotkey": "", "icon": "shell32.dll,137", "src": "C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe", "state": "present", "windowstyle": "normal"}
2025-07-02 18:33:27,861 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_template to ansible.windows.win_template
2025-07-02 18:33:27,862 p=77338 u=bill n=ansible INFO| TASK [windows : Template and deploy updated script with current TrueNAS IP] *********************************
2025-07-02 18:33:27,862 p=77338 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml:24
2025-07-02 18:33:27,876 p=77338 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_template to ansible.windows.win_template
2025-07-02 18:33:27,877 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_template to ansible.windows.win_template
2025-07-02 18:33:27,877 p=77338 u=bill n=ansible INFO| redirecting (type: action) ansible.builtin.win_template to ansible.windows.win_template
2025-07-02 18:33:29,032 p=77338 u=bill n=ansible INFO| An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleUndefinedVariable: [{'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\{{ truenas_server_ip }}\\home\\{{ ansible_user }}\\Documents', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\{{ truenas_server_ip }}\\home\\{{ ansible_user }}\\Downloads', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\{{ truenas_server_ip }}\\media', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\{{ truenas_server_ip }}\\paper', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\{{ truenas_server_ip }}\\shared_files', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\{{ truenas_server_ip }}\\workouts', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}]: 'truenas_smb_password' is undefined
2025-07-02 18:33:29,032 p=77338 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: [{'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\home\\\\{{ ansible_user }}\\\\Documents', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\home\\\\{{ ansible_user }}\\\\Downloads', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\media', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\paper', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\shared_files', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}, {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\\\\\{{ truenas_server_ip }}\\\\workouts', 'username': '{{ ansible_user }}', 'password': '{{ truenas_smb_password }}', 'persistent': True}]: 'truenas_smb_password' is undefined"}
2025-07-02 18:33:29,033 p=77338 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:33:29,033 p=77338 u=bill n=ansible INFO| windows11                  : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2025-07-02 18:34:04,514 p=77444 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "windows_network_drives": "VARIABLE IS NOT DEFINED!"
}
2025-07-02 18:34:11,979 p=77479 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "truenas_server_ip": "192.168.86.109"
}
2025-07-02 18:34:32,496 p=77538 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "group_names": [
        "ssh",
        "updates",
        "windows"
    ]
}
2025-07-02 18:34:38,698 p=77576 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "windows_network_drives": "VARIABLE IS NOT DEFINED!"
}
2025-07-02 18:34:44,838 p=77611 u=bill n=ansible WARNING| [WARNING]: While constructing a mapping from
/home/bill/git/home.net/host_vars/desktop.yml, line 3, column 1, found a
duplicate dict key (gnome). Using last defined value only.

2025-07-02 18:34:44,839 p=77611 u=bill n=ansible WARNING| [WARNING]: While constructing a mapping from
/home/bill/git/home.net/host_vars/samsung.yml, line 3, column 1, found a
duplicate dict key (gnome). Using last defined value only.

2025-07-02 18:34:44,840 p=77611 u=bill n=ansible WARNING| [WARNING]: While constructing a mapping from
/home/bill/git/home.net/host_vars/dell.yml, line 3, column 1, found a duplicate
dict key (gnome). Using last defined value only.

2025-07-02 18:34:44,846 p=77611 u=bill n=ansible WARNING| [WARNING]: While constructing a mapping from
/home/bill/git/home.net/host_vars/lily_laptop.yml, line 3, column 1, found a
duplicate dict key (gnome). Using last defined value only.

2025-07-02 18:34:44,856 p=77611 u=bill n=ansible INFO| all:
  children:
    ssh:
      children:
        local:
          hosts:
            localhost:
              ansible_connection: local
              ansible_cron_minute: '*/5'
              ansible_host: 192.168.86.83
              ansible_python_interpreter: /usr/bin/python3
              audacity: false
              bill_directories:
              - /home/bill/desktop
              - /home/bill/documents
              - /home/bill/downloads
              - /home/bill/media
              - /home/bill/code
              - /home/bill/git
              bill_password: '{{ vault_bill_password }}'
              bill_unwanted_directories:
              - /home/bill/Desktop
              - /home/bill/Documents
              - /home/bill/Downloads
              - /home/bill/Music
              - /home/bill/Pictures
              - /home/bill/Public
              - /home/bill/Templates
              - /home/bill/Videos
              branch: master
              chromium: true
              darktable: false
              expressvpn: false
              firefox: true
              games: false
              gnome: true
              groups_to_create:
              - media
              - ansible
              - data
              - docs
              gui_editor: gvim
              libreoffice: false
              mate: false
              microcode_amd_install: false
              microcode_intel_install: false
              nfs_mounts:
              - dest: /home/DEFAULT_USER/media
                opts: rw,comment=x-gvfs-hide
                src: 192.168.86.109:/mnt/Data/media/storage
              - dest: /home/DEFAULT_USER/documents
                opts: rw,comment=x-gvfs-hide
                src: 192.168.86.109:/mnt/ssd-files/home/DEFAULT_USER/Documents
              - dest: /home/DEFAULT_USER/downloads
                opts: rw,comment=x-gvfs-hide
                src: 192.168.86.109:/mnt/ssd-files/home/DEFAULT_USER/Downloads
              nfs_users:
              - bill
              ssh_config_user:
              - bill
              ssh_key: bill_ansible
              ssh_port: 22
              ssh_users: bill hal
              steam: false
              terminal_emulator: terminator
              thunderbird: false
              ulauncher: false
              vlc: true
              vscode: true
              web_browser: flatpak run org.mozilla.firefox
              xonotic: true
        lxc:
          hosts:
            bazarr: {}
            books: {}
            calibre-web: {}
            cloudflared: {}
            homepage: {}
            maintainerr: {}
            ntfy: {}
            overseer: {}
            paperless: {}
            photoprism: {}
            radarr: {}
            sab: {}
            sonarr: {}
            tautulli: {}
            trilium: {}
            wg: {}
        proxmox_hosts:
          hosts:
            pbs:
              ansible_cron_minute: '*/5'
              ansible_host: 192.168.86.33
              ansible_python_interpreter: /usr/bin/python3
              bill_password: '{{ bill_password }}'
              branch: master
              is_proxmox: true
              manage_nfs_mounts: false
              microcode_amd_install: true
              ssh_port: 22
              ssh_users: bill hal
              users:
              - comment: Bill Knight
                groups: []
                password: '{{ bill_pbs_passwd }}'
                shell: /bin/bash
                ssh_keys: '{{ vault_bill_ssh_keys }}'
                state: present
                sudo: true
                username: bill
              - comment: Ansible System User
                groups: []
                shell: /bin/bash
                ssh_keys: '{{ vault_hal_ssh_key }}'
                state: present
                sudo: true
                username: hal
            pve:
              ansible_cron_minute: '*/30'
              ansible_host: 192.168.86.143
              ansible_python_interpreter: /usr/bin/python3
              bill_password: '{{ bill_pve_passwd }}'
              branch: master
              enable_provisioning: true
              is_proxmox: true
              microcode_amd_install: true
              nfs_mounts:
              - dest: /mnt/docs
                opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
                src: 192.168.86.109:/mnt/ssd-files/docs
              - dest: /media
                opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
                src: 192.168.86.109:/mnt/Data/media
              - dest: /mnt/trilium
                opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
                src: 192.168.86.109:/mnt/ssd-files/fileshare/trilium-data
              - dest: /home/media/books
                opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
                src: 192.168.86.109:/mnt/Data/books
              - dest: /home/bill/documents
                opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
                src: 192.168.86.109:/mnt/ssd-files/home/bill/Documents
              - dest: /home/bill/downloads
                opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
                src: 192.168.86.109:/mnt/ssd-files/home/bill/Downloads
              - dest: /mnt/photo_storage
                opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
                src: 192.168.86.109:/mnt/ssd-files/photo_storage
              ssh_port: 22
              ssh_users: bill hal
              users:
              - comment: Bill Knight
                groups: []
                password: '{{ bill_password }}'
                shell: /bin/bash
                ssh_keys: '{{ vault_bill_ssh_keys }}'
                state: present
                sudo: true
                username: bill
              - comment: Ansible System User
                groups: []
                shell: /bin/bash
                ssh_keys: '{{ vault_hal_ssh_key }}'
                state: present
                sudo: true
                username: hal
        vm:
          hosts:
            plex: {}
        windows:
          hosts:
            windows11: {}
        workstation:
          hosts:
            dell: {}
            desktop: {}
            lily_laptop: {}
            samsung: {}
    updates:
      hosts:
        bazarr:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.101
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          audacity: true
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 118
          groups_to_create:
          - media
          microcode_amd_install: false
          microcode_intel_install: false
          mount_points:
          - mount_point: 'mp0: /media,mp=/media'
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        books:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.65
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 126
          groups_to_create:
          - media
          needed_mounts:
          - book_library
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        calibre-web:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.103
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 109
          groups_to_create:
          - media
          needed_mounts:
          - book_library
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        cloudflared:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.43
          ansible_python_interpreter: /usr/bin/python3
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 113
          groups_to_create: []
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          web_server: false
        dell:
          ansible_cron_minute: '*/5'
          ansible_host: 192.168.86.55
          ansible_python_interpreter: /usr/bin/python3
          audacity: true
          bill_password: '{{ vault_bill_password }}'
          branch: master
          chrome: true
          darktable: true
          expressvpn: true
          firefox: true
          games: true
          gnome: true
          groups_to_create:
          - media
          - ansible
          - data
          - docs
          gui_editor: gvim
          included_users:
          - bill
          - hal
          - loretta
          - lily
          libreoffice: true
          mate: false
          microcode_amd_install: false
          microcode_intel_install: true
          ssh_config_user:
          - bill
          ssh_key: bill_dell
          ssh_port: 22
          ssh_users: bill hal
          steam: true
          terminal_emulator: terminator
          thunderbird: true
          ulauncher: false
          vlc: true
          vscode: true
          web_browser: flatpak run org.mozilla.firefox
          xonotic: true
        desktop:
          ansible_cron_minute: '*/5'
          ansible_host: 192.168.86.40
          ansible_python_interpreter: /usr/bin/python3
          audacity: true
          bill_password: '{{ vault_bill_password }}'
          branch: master
          chrome: true
          darktable: true
          expressvpn: true
          firefox: true
          games: true
          gnome: true
          groups_to_create:
          - media
          - ansible
          - data
          - docs
          gui_editor: gvim
          included_users:
          - bill
          - hal
          - loretta
          - lily
          libreoffice: true
          mate: false
          microcode_amd_install: false
          microcode_intel_install: false
          ssh_config_user:
          - bill
          ssh_key: bill_desktop
          ssh_port: 22
          ssh_users: bill hal
          steam: true
          terminal_emulator: terminator
          thunderbird: true
          ulauncher: false
          vlc: true
          vscode: true
          web_browser: flatpak run org.mozilla.firefox
          xonotic: true
        homepage:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.103
          ansible_python_interpreter: /usr/bin/python3
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 107
          groups_to_create: []
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          web_server: false
        lily_laptop:
          ansible_cron_minute: '*/5'
          ansible_host: 192.168.86.53
          ansible_python_interpreter: /usr/bin/python3
          audacity: true
          bill_password: '{{ vault_bill_password }}'
          branch: master
          chrome: true
          darktable: true
          expressvpn: true
          firefox: true
          games: true
          gnome: true
          groups_to_create:
          - media
          - ansible
          - data
          - docs
          gui_editor: gvim
          included_users:
          - bill
          - hal
          - loretta
          - lily
          libreoffice: true
          mate: false
          microcode_amd_install: true
          microcode_intel_install: false
          ssh_config_user:
          - bill
          ssh_key: bill_desktop
          ssh_port: 22
          ssh_users: bill hal
          steam: true
          terminal_emulator: terminator
          thunderbird: true
          ulauncher: false
          vlc: true
          vscode: true
          web_browser: flatpak run org.mozilla.firefox
          xonotic: true
        maintainerr:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.96
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 112
          groups_to_create:
          - media
          needed_mounts:
          - media
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        ntfy:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.97
          ansible_python_interpreter: /usr/bin/python3
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 130
          groups_to_create: []
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          web_server: false
        overseer:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.49
          ansible_python_interpreter: /usr/bin/python3
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 106
          groups_to_create:
          - media
          needed_mounts:
          - media
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        paperless:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.70
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - docs
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 111
          groups_to_create:
          - docs
          needed_mounts:
          - paperless_consume
          - paperless_files
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        photoprism:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.95
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 103
          groups_to_create:
          - media
          microcode_amd_install: false
          microcode_intel_install: false
          needed_mounts:
          - photoprism_import
          - photoprism_originals
          - photoprism_storage
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        plex:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.110
          ansible_python_interpreter: /usr/bin/python3
          app_user: plex
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          gpu_passthrough: true
          groups_to_create:
          - media
          is_vm: true
          needed_mounts:
          - plex
          nfs_mounts:
          - dest: /media
            opts: defaults,soft,timeo=300,retrans=2,_netdev,x-systemd.automount
            src: 192.168.86.109:/mnt/Data/media
          nvidia_driver_version: '535'
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: false
          vm_id: 204
          web_server: false
        radarr:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.79
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 131
          groups_to_create:
          - media
          needed_mounts:
          - media
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        sab:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.86
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 119
          groups_to_create:
          - media
          needed_mounts:
          - media
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        samsung:
          ansible_cron_minute: '*/5'
          ansible_host: 192.168.86.94
          ansible_python_interpreter: /usr/bin/python3
          audacity: true
          bill_password: '{{ vault_bill_password }}'
          branch: master
          chrome: true
          darktable: true
          expressvpn: true
          firefox: true
          games: true
          gnome: true
          groups_to_create:
          - media
          - ansible
          - data
          - docs
          gui_editor: gvim
          included_users:
          - bill
          - hal
          - loretta
          - lily
          libreoffice: true
          mate: false
          microcode_amd_install: false
          microcode_intel_install: true
          ssh_config_user:
          - bill
          ssh_key: bill
          ssh_port: 22
          ssh_users: bill hal
          steam: true
          terminal_emulator: terminator
          thunderbird: true
          ulauncher: false
          vlc: true
          vscode: true
          web_browser: flatpak run org.mozilla.firefox
          xonotic: true
        sonarr:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.66
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 104
          groups_to_create:
          - media
          needed_mounts:
          - media
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        tautulli:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.76
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - media
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 129
          groups_to_create:
          - media
          needed_mounts:
          - media
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        trilium:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.78
          ansible_python_interpreter: /usr/bin/python3
          app_user: bill
          app_user_groups:
          - data
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: 105
          groups_to_create:
          - data
          needed_mounts:
          - trilium
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        wg:
          ansible_cron_minute: '40'
          ansible_host: 192.168.86.104
          ansible_python_interpreter: /usr/bin/python3
          bill_password: '{{ vault_bill_password }}'
          branch: master
          container_id: '101'
          groups_to_create:
          - media
          - docs
          - data
          microcode_amd_install: false
          microcode_intel_install: false
          needed_mounts:
          - trilium
          proxmox_instance: false
          ssh_port: 22
          ssh_users: bill hal
          unattended_upgrades: true
          user_maps: true
          web_server: false
        windows11:
          ansible_become: false
          ansible_connection: winrm
          ansible_host: 192.168.86.89
          ansible_password: e9uFGyBA!CzECYaA%fo@2^OXJ
          ansible_port: 5985
          ansible_shell_type: powershell
          ansible_user: wknig
          ansible_winrm_server_cert_validation: ignore
          ansible_winrm_transport: basic
          ssh_key: ansible-server
          truenas_server_ip: 192.168.86.109
          windows_network_drives:
          - drive_letter: 'H:'
            name: User Documents
            password: '{{ truenas_smb_password }}'
            persistent: true
            remote_path: \\{{ truenas_server_ip }}\home\{{ ansible_user }}\Documents
            username: '{{ ansible_user }}'
          - drive_letter: 'I:'
            name: User Downloads
            password: '{{ truenas_smb_password }}'
            persistent: true
            remote_path: \\{{ truenas_server_ip }}\home\{{ ansible_user }}\Downloads
            username: '{{ ansible_user }}'
          - drive_letter: 'M:'
            name: Media
            password: '{{ truenas_smb_password }}'
            persistent: true
            remote_path: \\{{ truenas_server_ip }}\media
            username: '{{ ansible_user }}'
          - drive_letter: 'P:'
            name: Paperless Documents
            password: '{{ truenas_smb_password }}'
            persistent: true
            remote_path: \\{{ truenas_server_ip }}\paper
            username: '{{ ansible_user }}'
          - drive_letter: 'S:'
            name: Shared Files
            password: '{{ truenas_smb_password }}'
            persistent: true
            remote_path: \\{{ truenas_server_ip }}\shared_files
            username: '{{ ansible_user }}'
          - drive_letter: 'W:'
            name: Workouts
            password: '{{ truenas_smb_password }}'
            persistent: true
            remote_path: \\{{ truenas_server_ip }}\workouts
            username: '{{ ansible_user }}'

2025-07-02 18:34:54,484 p=77645 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:34:54,491 p=77645 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:34:57,205 p=77645 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:34:57,207 p=77645 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:34:57,222 p=77645 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:34:57,224 p=77645 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:34:57,224 p=77645 u=bill n=ansible INFO| windows11                  : ok=1    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2025-07-02 18:35:12,708 p=77699 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:35:12,714 p=77699 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:35:15,368 p=77699 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:35:15,370 p=77699 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:35:15,388 p=77699 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:35:15,390 p=77699 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:35:15,390 p=77699 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-02 18:35:28,037 p=77746 u=bill n=ansible INFO| ansible-playbook [core 2.18.6]
  config file = /home/bill/git/home.net/ansible.cfg
  configured module search path = ['/home/bill/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  ansible collection location = /home/bill/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/bin/ansible-playbook
  python version = 3.12.3 (main, Jun 18 2025, 17:59:45) [GCC 13.3.0] (/usr/bin/python3)
  jinja version = 3.1.2
  libyaml = True
2025-07-02 18:35:28,037 p=77746 u=bill n=ansible INFO| Using /home/bill/git/home.net/ansible.cfg as config file
2025-07-02 18:35:28,222 p=77746 u=bill n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-07-02 18:35:28,222 p=77746 u=bill n=ansible INFO| Skipping callback 'minimal', as we already have a stdout callback.
2025-07-02 18:35:28,222 p=77746 u=bill n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-07-02 18:35:28,222 p=77746 u=bill n=ansible INFO| PLAYBOOK: windows.yml ***************************************************************************************
2025-07-02 18:35:28,222 p=77746 u=bill n=ansible INFO| 1 plays in windows.yml
2025-07-02 18:35:28,223 p=77746 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:35:28,229 p=77746 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:35:28,230 p=77746 u=bill n=ansible INFO| task path: /home/bill/git/home.net/windows.yml:2
2025-07-02 18:35:28,239 p=77746 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.setup to ansible.windows.setup
2025-07-02 18:35:30,858 p=77746 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:35:30,860 p=77746 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:35:30,860 p=77746 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/main.yml:11
2025-07-02 18:35:30,873 p=77746 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-02 18:35:30,875 p=77746 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_mapped_drive to community.windows.win_mapped_drive
2025-07-02 18:35:30,876 p=77746 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_shortcut to community.windows.win_shortcut
2025-07-02 18:35:30,877 p=77746 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_stat to ansible.windows.win_stat
2025-07-02 18:35:30,878 p=77746 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:35:30,879 p=77746 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:35:30,879 p=77746 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-02 18:36:01,683 p=77798 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:36:01,689 p=77798 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:36:04,392 p=77798 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:36:04,394 p=77798 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:36:04,409 p=77798 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:36:04,411 p=77798 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:36:04,411 p=77798 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-02 18:36:31,303 p=77877 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:36:31,310 p=77877 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:36:33,945 p=77877 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:36:33,948 p=77877 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:36:33,962 p=77877 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:36:33,964 p=77877 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:36:33,964 p=77877 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-02 18:36:45,351 p=77923 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:36:45,358 p=77923 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:36:47,968 p=77923 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:36:47,970 p=77923 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 18:36:49,479 p=77923 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:36:49,482 p=77923 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:36:49,495 p=77923 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:36:49,497 p=77923 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:36:49,511 p=77923 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 18:36:49,513 p=77923 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ***********************************************
2025-07-02 18:36:50,764 p=77923 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:36:50,768 p=77923 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 18:36:51,824 p=77923 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:36:51,827 p=77923 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *******************************************
2025-07-02 18:36:53,641 p=77923 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:36:53,643 p=77923 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:36:53,656 p=77923 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:36:53,659 p=77923 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] *****************************************
2025-07-02 18:36:53,676 p=77923 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is NOT defined"
}
2025-07-02 18:36:53,678 p=77923 u=bill n=ansible INFO| TASK [windows : Debug - Show truenas_smb_password availability] *********************************************
2025-07-02 18:36:53,690 p=77923 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "truenas_smb_password is NOT defined"
}
2025-07-02 18:36:53,692 p=77923 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] *********************************
2025-07-02 18:36:53,706 p=77923 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:36:53,707 p=77923 u=bill n=ansible INFO| TASK [windows : Map persistent network drives using net use command] ****************************************
2025-07-02 18:36:53,721 p=77923 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:36:53,723 p=77923 u=bill n=ansible INFO| TASK [windows : Display drive mapping results] **************************************************************
2025-07-02 18:36:53,735 p=77923 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "'dict object' has no attribute 'results'"}
2025-07-02 18:36:53,736 p=77923 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:36:53,736 p=77923 u=bill n=ansible INFO| windows11                  : ok=9    changed=0    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   
2025-07-02 18:37:04,706 p=78001 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "hostvars[inventory_hostname]": {
        "ansible_become": false,
        "ansible_check_mode": false,
        "ansible_config_file": "/home/bill/git/home.net/ansible.cfg",
        "ansible_connection": "winrm",
        "ansible_diff_mode": false,
        "ansible_facts": {},
        "ansible_forks": 5,
        "ansible_host": "192.168.86.89",
        "ansible_inventory_sources": [
            "/home/bill/git/home.net/inventory"
        ],
        "ansible_password": "e9uFGyBA!CzECYaA%fo@2^OXJ",
        "ansible_playbook_python": "/usr/bin/python3",
        "ansible_port": 5985,
        "ansible_shell_type": "powershell",
        "ansible_user": "wknig",
        "ansible_verbosity": 0,
        "ansible_version": {
            "full": "2.18.6",
            "major": 2,
            "minor": 18,
            "revision": 6,
            "string": "2.18.6"
        },
        "ansible_winrm_server_cert_validation": "ignore",
        "ansible_winrm_transport": "basic",
        "group_names": [
            "ssh",
            "updates",
            "windows"
        ],
        "groups": {
            "all": [
                "wg",
                "photoprism",
                "desktop",
                "samsung",
                "dell",
                "bazarr",
                "trilium",
                "sonarr",
                "paperless",
                "books",
                "overseer",
                "radarr",
                "ntfy",
                "maintainerr",
                "sab",
                "tautulli",
                "cloudflared",
                "homepage",
                "lily_laptop",
                "plex",
                "calibre-web",
                "windows11",
                "pve",
                "pbs",
                "localhost"
            ],
            "local": [
                "localhost"
            ],
            "lxc": [
                "wg",
                "photoprism",
                "bazarr",
                "trilium",
                "sonarr",
                "paperless",
                "books",
                "overseer",
                "radarr",
                "ntfy",
                "maintainerr",
                "sab",
                "tautulli",
                "cloudflared",
                "homepage",
                "calibre-web"
            ],
            "proxmox_hosts": [
                "pve",
                "pbs"
            ],
            "ssh": [
                "wg",
                "photoprism",
                "bazarr",
                "trilium",
                "sonarr",
                "paperless",
                "books",
                "overseer",
                "radarr",
                "ntfy",
                "maintainerr",
                "sab",
                "tautulli",
                "cloudflared",
                "homepage",
                "calibre-web",
                "desktop",
                "samsung",
                "dell",
                "lily_laptop",
                "pve",
                "pbs",
                "localhost",
                "plex",
                "windows11"
            ],
            "ungrouped": [],
            "updates": [
                "wg",
                "photoprism",
                "desktop",
                "samsung",
                "dell",
                "bazarr",
                "trilium",
                "sonarr",
                "paperless",
                "books",
                "overseer",
                "radarr",
                "ntfy",
                "maintainerr",
                "sab",
                "tautulli",
                "cloudflared",
                "homepage",
                "lily_laptop",
                "plex",
                "calibre-web",
                "windows11"
            ],
            "vm": [
                "plex"
            ],
            "windows": [
                "windows11"
            ],
            "workstation": [
                "desktop",
                "samsung",
                "dell",
                "lily_laptop"
            ]
        },
        "inventory_dir": "/home/bill/git/home.net",
        "inventory_file": "/home/bill/git/home.net/inventory",
        "inventory_hostname": "windows11",
        "inventory_hostname_short": "windows11",
        "omit": "__omit_place_holder__33b6d85607054a1a7885c45f97ff7944b5d3f112",
        "playbook_dir": "/home/bill/git/home.net",
        "ssh_key": "ansible-server",
        "truenas_server_ip": "192.168.86.109",
        "windows_network_drives": [
            {
                "drive_letter": "H:",
                "name": "User Documents",
                "password": "{{ truenas_smb_password }}",
                "persistent": true,
                "remote_path": "\\\\192.168.86.109\\home\\wknig\\Documents",
                "username": "wknig"
            },
            {
                "drive_letter": "I:",
                "name": "User Downloads",
                "password": "{{ truenas_smb_password }}",
                "persistent": true,
                "remote_path": "\\\\192.168.86.109\\home\\wknig\\Downloads",
                "username": "wknig"
            },
            {
                "drive_letter": "M:",
                "name": "Media",
                "password": "{{ truenas_smb_password }}",
                "persistent": true,
                "remote_path": "\\\\192.168.86.109\\media",
                "username": "wknig"
            },
            {
                "drive_letter": "P:",
                "name": "Paperless Documents",
                "password": "{{ truenas_smb_password }}",
                "persistent": true,
                "remote_path": "\\\\192.168.86.109\\paper",
                "username": "wknig"
            },
            {
                "drive_letter": "S:",
                "name": "Shared Files",
                "password": "{{ truenas_smb_password }}",
                "persistent": true,
                "remote_path": "\\\\192.168.86.109\\shared_files",
                "username": "wknig"
            },
            {
                "drive_letter": "W:",
                "name": "Workouts",
                "password": "{{ truenas_smb_password }}",
                "persistent": true,
                "remote_path": "\\\\192.168.86.109\\workouts",
                "username": "wknig"
            }
        ]
    }
}
2025-07-02 18:37:49,969 p=78048 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:37:49,975 p=78048 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:37:52,738 p=78048 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:37:52,740 p=78048 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 18:37:54,268 p=78048 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:37:54,270 p=78048 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:37:54,282 p=78048 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:37:54,284 p=78048 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:37:54,297 p=78048 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 18:37:54,299 p=78048 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ***********************************************
2025-07-02 18:37:55,539 p=78048 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:37:55,543 p=78048 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 18:37:56,647 p=78048 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:37:56,649 p=78048 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *******************************************
2025-07-02 18:37:58,465 p=78048 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:37:58,467 p=78048 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:37:58,481 p=78048 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:37:58,484 p=78048 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] *****************************************
2025-07-02 18:37:58,501 p=78048 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-02 18:37:58,503 p=78048 u=bill n=ansible INFO| TASK [windows : Debug - Show first drive if available] ******************************************************
2025-07-02 18:37:58,519 p=78048 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "First drive: {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\\\\\192.168.86.109\\\\home\\\\wknig\\\\Documents', 'persistent': True}"
}
2025-07-02 18:37:58,521 p=78048 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] *********************************
2025-07-02 18:38:00,273 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.063245", "end": "2025-07-02 22:37:58.000469", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:37:57.937223", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:38:01,867 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.059506", "end": "2025-07-02 22:37:59.602808", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:37:59.543302", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:38:03,448 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.055467", "end": "2025-07-02 22:38:01.179777", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:01.124310", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:38:05,029 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.059486", "end": "2025-07-02 22:38:02.764535", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:02.705049", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:38:06,616 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.059221", "end": "2025-07-02 22:38:04.352806", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:04.293585", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:38:08,198 p=78048 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-02 18:38:08,230 p=78048 u=bill n=ansible INFO| ...ignoring
2025-07-02 18:38:08,231 p=78048 u=bill n=ansible INFO| TASK [windows : Map persistent network drives (will prompt for credentials)] ********************************
2025-07-02 18:38:09,998 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: \"\\\\192.168.86.109\\home\\wknig\\Documents\" /persistent:yes", "delta": "0:00:00.130332", "end": "2025-07-02 22:38:07.733842", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:07.603510", "stderr": "System error 1223 has occurred.\r\n\r\nThe operation was canceled by the user.\r\n\r\n", "stderr_lines": ["System error 1223 has occurred.", "", "The operation was canceled by the user.", ""], "stdout": "Enter the user name for '192.168.86.109': \u0000", "stdout_lines": ["Enter the user name for '192.168.86.109': \u0000"]}
2025-07-02 18:38:11,690 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: \"\\\\192.168.86.109\\home\\wknig\\Downloads\" /persistent:yes", "delta": "0:00:00.142391", "end": "2025-07-02 22:38:09.429639", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:09.287247", "stderr": "System error 1223 has occurred.\r\n\r\nThe operation was canceled by the user.\r\n\r\n", "stderr_lines": ["System error 1223 has occurred.", "", "The operation was canceled by the user.", ""], "stdout": "Enter the user name for '192.168.86.109': \u0000", "stdout_lines": ["Enter the user name for '192.168.86.109': \u0000"]}
2025-07-02 18:38:13,299 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: \"\\\\192.168.86.109\\media\" /persistent:yes", "delta": "0:00:00.092872", "end": "2025-07-02 22:38:11.035691", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:10.942819", "stderr": "System error 1223 has occurred.\r\n\r\nThe operation was canceled by the user.\r\n\r\n", "stderr_lines": ["System error 1223 has occurred.", "", "The operation was canceled by the user.", ""], "stdout": "Enter the user name for '192.168.86.109': \u0000", "stdout_lines": ["Enter the user name for '192.168.86.109': \u0000"]}
2025-07-02 18:38:14,909 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: \"\\\\192.168.86.109\\paper\" /persistent:yes", "delta": "0:00:00.090856", "end": "2025-07-02 22:38:12.636064", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:12.545207", "stderr": "System error 1223 has occurred.\r\n\r\nThe operation was canceled by the user.\r\n\r\n", "stderr_lines": ["System error 1223 has occurred.", "", "The operation was canceled by the user.", ""], "stdout": "Enter the user name for '192.168.86.109': \u0000", "stdout_lines": ["Enter the user name for '192.168.86.109': \u0000"]}
2025-07-02 18:38:16,553 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: \"\\\\192.168.86.109\\shared_files\" /persistent:yes", "delta": "0:00:00.094904", "end": "2025-07-02 22:38:14.283999", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:14.189094", "stderr": "System error 1223 has occurred.\r\n\r\nThe operation was canceled by the user.\r\n\r\n", "stderr_lines": ["System error 1223 has occurred.", "", "The operation was canceled by the user.", ""], "stdout": "Enter the user name for '192.168.86.109': \u0000", "stdout_lines": ["Enter the user name for '192.168.86.109': \u0000"]}
2025-07-02 18:38:18,181 p=78048 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: \"\\\\192.168.86.109\\workouts\" /persistent:yes", "delta": "0:00:00.096891", "end": "2025-07-02 22:38:15.910029", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:38:15.813137", "stderr": "System error 1223 has occurred.\r\n\r\nThe operation was canceled by the user.\r\n\r\n", "stderr_lines": ["System error 1223 has occurred.", "", "The operation was canceled by the user.", ""], "stdout": "Enter the user name for '192.168.86.109': \u0000", "stdout_lines": ["Enter the user name for '192.168.86.109': \u0000"]}
2025-07-02 18:38:18,211 p=78048 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:38:18,212 p=78048 u=bill n=ansible INFO| windows11                  : ok=10   changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=1   
2025-07-02 18:38:55,312 p=78225 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:38:55,322 p=78225 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:38:57,992 p=78225 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:38:57,994 p=78225 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:38:58,009 p=78225 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:38:58,010 p=78225 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:38:58,010 p=78225 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-02 18:39:43,915 p=78292 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 18:39:43,921 p=78292 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 18:39:46,559 p=78292 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:39:46,561 p=78292 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 18:39:48,072 p=78292 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:39:48,075 p=78292 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:39:48,088 p=78292 u=bill n=ansible INFO| skipping: [windows11]
2025-07-02 18:39:48,091 p=78292 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:39:48,105 p=78292 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 18:39:48,107 p=78292 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ***********************************************
2025-07-02 18:39:49,371 p=78292 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:39:49,373 p=78292 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 18:39:50,478 p=78292 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:39:50,480 p=78292 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *******************************************
2025-07-02 18:39:52,327 p=78292 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 18:39:52,329 p=78292 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 18:39:52,343 p=78292 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 18:39:52,346 p=78292 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] *****************************************
2025-07-02 18:39:52,363 p=78292 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-02 18:39:52,365 p=78292 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] *********************************
2025-07-02 18:39:54,037 p=78292 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.059239", "end": "2025-07-02 22:39:51.759402", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:39:51.700162", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:39:55,633 p=78292 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.059223", "end": "2025-07-02 22:39:53.364093", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:39:53.304870", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:39:57,229 p=78292 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.055492", "end": "2025-07-02 22:39:54.960836", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:39:54.905344", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:39:58,795 p=78292 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.055461", "end": "2025-07-02 22:39:56.527655", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:39:56.472193", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:40:00,359 p=78292 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.057226", "end": "2025-07-02 22:39:58.096213", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:39:58.038986", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:40:02,531 p=78292 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.168730", "end": "2025-07-02 22:40:00.146230", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-02 22:39:59.977499", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 18:40:02,602 p=78292 u=bill n=ansible INFO| ...ignoring
2025-07-02 18:40:02,612 p=78292 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] *********************************************
2025-07-02 18:40:02,658 p=78292 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "The task includes an option with an undefined variable.. 'truenas_smb_password' is undefined\n\nThe error appears to be in '/home/bill/git/home.net/roles/windows/tasks/network_drives.yml': line 14, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Map persistent network drives with credentials\n  ^ here\n"}
2025-07-02 18:40:02,659 p=78292 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 18:40:02,659 p=78292 u=bill n=ansible INFO| windows11                  : ok=9    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=1   
2025-07-02 20:27:39,612 p=79634 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 20:27:39,618 p=79634 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 20:27:42,588 p=79634 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 20:27:42,591 p=79634 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 20:27:44,153 p=79634 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 20:27:44,156 p=79634 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 20:27:44,173 p=79634 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/ssh_key_management.yml for windows11
2025-07-02 20:27:44,175 p=79634 u=bill n=ansible INFO| TASK [windows : Deploy SSH public keys from vault to administrators_authorized_keys] ************************
2025-07-02 20:27:45,306 p=79634 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 20:27:45,309 p=79634 u=bill n=ansible INFO| TASK [windows : Set permissions on administrators_authorized_keys] ******************************************
2025-07-02 20:27:47,427 p=79634 u=bill n=ansible INFO| ok: [windows11] => (item=Administrators)
2025-07-02 20:27:49,197 p=79634 u=bill n=ansible INFO| ok: [windows11] => (item=SYSTEM)
2025-07-02 20:27:49,228 p=79634 u=bill n=ansible INFO| TASK [windows : Remove inherited permissions and set explicit permissions] **********************************
2025-07-02 20:27:51,129 p=79634 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 20:27:51,131 p=79634 u=bill n=ansible INFO| TASK [windows : Restart SSH service] ************************************************************************
2025-07-02 20:27:53,510 p=79634 u=bill n=ansible INFO| changed: [windows11]
2025-07-02 20:27:53,513 p=79634 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 20:27:53,526 p=79634 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 20:27:53,528 p=79634 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ***********************************************
2025-07-02 20:27:54,838 p=79634 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 20:27:54,840 p=79634 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 20:27:55,935 p=79634 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 20:27:55,937 p=79634 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *******************************************
2025-07-02 20:27:57,779 p=79634 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 20:27:57,781 p=79634 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 20:27:57,794 p=79634 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 20:27:57,797 p=79634 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] *****************************************
2025-07-02 20:27:57,814 p=79634 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-02 20:27:57,816 p=79634 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] *********************************
2025-07-02 20:27:59,856 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.057215", "end": "2025-07-03 00:27:59.612816", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:27:59.555601", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:02,145 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.055457", "end": "2025-07-03 00:28:01.899532", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:01.844075", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:04,390 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.057214", "end": "2025-07-03 00:28:04.138139", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:04.080925", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:06,731 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.057213", "end": "2025-07-03 00:28:06.487562", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:06.430348", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:08,806 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.055208", "end": "2025-07-03 00:28:08.546692", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:08.491483", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:10,389 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.059230", "end": "2025-07-03 00:28:10.141359", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:10.082128", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:10,420 p=79634 u=bill n=ansible INFO| ...ignoring
2025-07-02 20:28:10,423 p=79634 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] *********************************************
2025-07-02 20:28:12,739 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: \"\\\\192.168.86.109\\home\\wknig\\Documents\" I4V69b^WOR!@8OxVD4mE /user:wknig /persistent:yes", "delta": "0:00:00.642183", "end": "2025-07-03 00:28:12.483862", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:11.841679", "stderr": "System error 86 has occurred.\r\n\r\nThe specified network password is not correct.\r\n\r\n", "stderr_lines": ["System error 86 has occurred.", "", "The specified network password is not correct.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:14,556 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\wknig\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: \"\\\\192.168.86.109\\home\\wknig\\Downloads\" I4V69b^WOR!@8OxVD4mE /user:wknig /persistent:yes", "delta": "0:00:00.284578", "end": "2025-07-03 00:28:14.303619", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\wknig\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:14.019040", "stderr": "System error 86 has occurred.\r\n\r\nThe specified network password is not correct.\r\n\r\n", "stderr_lines": ["System error 86 has occurred.", "", "The specified network password is not correct.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:16,441 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: \"\\\\192.168.86.109\\media\" I4V69b^WOR!@8OxVD4mE /user:wknig /persistent:yes", "delta": "0:00:00.316419", "end": "2025-07-03 00:28:16.193067", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:15.876648", "stderr": "System error 86 has occurred.\r\n\r\nThe specified network password is not correct.\r\n\r\n", "stderr_lines": ["System error 86 has occurred.", "", "The specified network password is not correct.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:18,097 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: \"\\\\192.168.86.109\\paper\" I4V69b^WOR!@8OxVD4mE /user:wknig /persistent:yes", "delta": "0:00:00.100860", "end": "2025-07-03 00:28:17.846840", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:17.745979", "stderr": "System error 86 has occurred.\r\n\r\nThe specified network password is not correct.\r\n\r\n", "stderr_lines": ["System error 86 has occurred.", "", "The specified network password is not correct.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:19,710 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: \"\\\\192.168.86.109\\shared_files\" I4V69b^WOR!@8OxVD4mE /user:wknig /persistent:yes", "delta": "0:00:00.096875", "end": "2025-07-03 00:28:19.465271", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:19.368396", "stderr": "System error 86 has occurred.\r\n\r\nThe specified network password is not correct.\r\n\r\n", "stderr_lines": ["System error 86 has occurred.", "", "The specified network password is not correct.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:21,390 p=79634 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: \"\\\\192.168.86.109\\workouts\" I4V69b^WOR!@8OxVD4mE /user:wknig /persistent:yes", "delta": "0:00:00.126470", "end": "2025-07-03 00:28:21.146862", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 00:28:21.020391", "stderr": "System error 86 has occurred.\r\n\r\nThe specified network password is not correct.\r\n\r\n", "stderr_lines": ["System error 86 has occurred.", "", "The specified network password is not correct.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 20:28:21,421 p=79634 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 20:28:21,421 p=79634 u=bill n=ansible INFO| windows11                  : ok=14   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2025-07-02 21:01:00,353 p=80453 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 21:01:00,360 p=80453 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 21:01:03,183 p=80453 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:03,186 p=80453 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 21:01:03,203 p=80453 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 21:01:03,205 p=80453 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 21:01:03,205 p=80453 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-02 21:01:12,278 p=80499 u=bill n=ansible INFO| PLAY [Windows System Management] ****************************************************************************
2025-07-02 21:01:12,284 p=80499 u=bill n=ansible INFO| TASK [Gathering Facts] **************************************************************************************
2025-07-02 21:01:15,436 p=80499 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:15,438 p=80499 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ***************************************************************************
2025-07-02 21:01:17,166 p=80499 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:17,169 p=80499 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 21:01:17,187 p=80499 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/ssh_key_management.yml for windows11
2025-07-02 21:01:17,189 p=80499 u=bill n=ansible INFO| TASK [windows : Deploy SSH public keys from vault to administrators_authorized_keys] ************************
2025-07-02 21:01:18,332 p=80499 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:18,334 p=80499 u=bill n=ansible INFO| TASK [windows : Set permissions on administrators_authorized_keys] ******************************************
2025-07-02 21:01:20,534 p=80499 u=bill n=ansible INFO| ok: [windows11] => (item=Administrators)
2025-07-02 21:01:23,153 p=80499 u=bill n=ansible INFO| ok: [windows11] => (item=SYSTEM)
2025-07-02 21:01:23,184 p=80499 u=bill n=ansible INFO| TASK [windows : Remove inherited permissions and set explicit permissions] **********************************
2025-07-02 21:01:25,852 p=80499 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:25,855 p=80499 u=bill n=ansible INFO| TASK [windows : Restart SSH service] ************************************************************************
2025-07-02 21:01:28,158 p=80499 u=bill n=ansible INFO| changed: [windows11]
2025-07-02 21:01:28,160 p=80499 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 21:01:28,172 p=80499 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-02 21:01:28,175 p=80499 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ***********************************************
2025-07-02 21:01:29,435 p=80499 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:29,437 p=80499 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ******************************************
2025-07-02 21:01:30,510 p=80499 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:30,512 p=80499 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *******************************************
2025-07-02 21:01:32,309 p=80499 u=bill n=ansible INFO| ok: [windows11]
2025-07-02 21:01:32,312 p=80499 u=bill n=ansible INFO| TASK [windows : include_tasks] ******************************************************************************
2025-07-02 21:01:32,326 p=80499 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-02 21:01:32,329 p=80499 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] *****************************************
2025-07-02 21:01:32,347 p=80499 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-02 21:01:32,349 p=80499 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] *********************************
2025-07-02 21:01:34,432 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.057206", "end": "2025-07-03 01:01:34.145660", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:34.088454", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:36,362 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.055193", "end": "2025-07-03 01:01:36.087786", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:36.032592", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:43,448 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.059256", "end": "2025-07-03 01:01:43.166772", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:43.107515", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:45,115 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.084798", "end": "2025-07-03 01:01:44.838590", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:44.753792", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:46,790 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.083044", "end": "2025-07-03 01:01:46.508349", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:46.425305", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:48,355 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.055500", "end": "2025-07-03 01:01:48.075352", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:48.019851", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:48,385 p=80499 u=bill n=ansible INFO| ...ignoring
2025-07-02 21:01:48,388 p=80499 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] *********************************************
2025-07-02 21:01:50,191 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: \"\\\\192.168.86.109\\home\\bill\\Documents\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.158146", "end": "2025-07-03 01:01:49.901288", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:49.743142", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:51,788 p=80499 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: \"\\\\192.168.86.109\\home\\bill\\Downloads\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.087128", "end": "2025-07-03 01:01:51.508678", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 01:01:51.421550", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-02 21:01:53,608 p=80499 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-02 21:01:55,309 p=80499 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-02 21:01:56,891 p=80499 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-02 21:01:58,603 p=80499 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-02 21:01:58,634 p=80499 u=bill n=ansible INFO| PLAY RECAP **************************************************************************************************
2025-07-02 21:01:58,634 p=80499 u=bill n=ansible INFO| windows11                  : ok=14   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2025-07-02 21:02:28,428 p=80752 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-02 21:02:49,103 p=80794 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>

Pinging 192.168.86.109 with 32 bytes of data:
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64

Ping statistics for 192.168.86.109:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 0ms, Maximum = 0ms, Average = 0ms


2025-07-02 21:03:03,802 p=80847 u=bill n=ansible INFO| windows11 | FAILED | rc=2 >>
Failed to run: 'dir M:\': Exception calling "CreateProcess" with "7" argument(s): "CreateProcessW() failed (The system cannot find the file specified, Win32ErrorCode 2 - 0x00000002)"

2025-07-02 21:03:13,791 p=80896 u=bill n=ansible INFO| windows11 | SUCCESS => {
    "changed": false,
    "stat": {
        "exists": false
    }
}
2025-07-02 21:03:24,693 p=80937 u=bill n=ansible INFO| windows11 | FAILED | rc=2 >>
Enter the password for 'bill' to connect to '192.168.86.109':  
System error 86 has occurred.

The specified network password is not correct.

non-zero return code

2025-07-03 13:51:21,558 p=86230 u=bill n=ansible INFO| windows11 | FAILED | rc=2 >>
System error 5 has occurred.

Access is denied.

non-zero return code

2025-07-03 14:06:07,305 p=87427 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-03 14:06:28,321 p=87481 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
You have these remote connections:

    M:              \\192.168.86.109\media
    P:              \\192.168.86.109\paper
    S:              \\192.168.86.109\shared_files
    W:              \\192.168.86.109\workouts
Continuing will cancel the connections.

The command completed successfully.



2025-07-03 14:15:38,185 p=87643 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 14:15:38,191 p=87643 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 14:15:41,730 p=87643 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:15:41,733 p=87643 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:15:41,748 p=87643 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 14:15:41,750 p=87643 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 14:15:41,750 p=87643 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 14:15:55,288 p=87691 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 14:15:55,294 p=87691 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 14:15:58,019 p=87691 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:15:58,022 p=87691 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] *********************************************************************************************
2025-07-03 14:15:59,593 p=87691 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:15:59,596 p=87691 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:15:59,615 p=87691 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/ssh_key_management.yml for windows11
2025-07-03 14:15:59,618 p=87691 u=bill n=ansible INFO| TASK [windows : Deploy SSH public keys from vault to administrators_authorized_keys] ******************************************
2025-07-03 14:16:00,796 p=87691 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:16:00,799 p=87691 u=bill n=ansible INFO| TASK [windows : Set permissions on administrators_authorized_keys] ************************************************************
2025-07-03 14:16:02,854 p=87691 u=bill n=ansible INFO| ok: [windows11] => (item=Administrators)
2025-07-03 14:16:04,584 p=87691 u=bill n=ansible INFO| ok: [windows11] => (item=SYSTEM)
2025-07-03 14:16:04,615 p=87691 u=bill n=ansible INFO| TASK [windows : Remove inherited permissions and set explicit permissions] ****************************************************
2025-07-03 14:16:07,327 p=87691 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:16:07,330 p=87691 u=bill n=ansible INFO| TASK [windows : Restart SSH service] ******************************************************************************************
2025-07-03 14:16:09,663 p=87691 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 14:16:09,666 p=87691 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:16:09,680 p=87691 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-03 14:16:09,683 p=87691 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] *****************************************************************
2025-07-03 14:16:11,024 p=87691 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:16:11,027 p=87691 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ************************************************************
2025-07-03 14:16:12,176 p=87691 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:16:12,179 p=87691 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] *************************************************************
2025-07-03 14:16:14,077 p=87691 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:16:14,080 p=87691 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:16:14,095 p=87691 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 14:16:14,098 p=87691 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] ***********************************************************
2025-07-03 14:16:14,117 p=87691 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 14:16:14,118 p=87691 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] ***************************************************
2025-07-03 14:16:16,275 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.059222", "end": "2025-07-03 18:16:14.504448", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:14.445225", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:17,902 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.061226", "end": "2025-07-03 18:16:16.134461", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:16.073235", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:19,498 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.057203", "end": "2025-07-03 18:16:17.730799", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:17.673595", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:21,126 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.061234", "end": "2025-07-03 18:16:19.353437", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:19.292202", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:22,742 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.057483", "end": "2025-07-03 18:16:20.976268", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:20.918784", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:24,366 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.057203", "end": "2025-07-03 18:16:22.596508", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:22.539305", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:24,396 p=87691 u=bill n=ansible INFO| ...ignoring
2025-07-03 14:16:24,398 p=87691 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] ***************************************************************
2025-07-03 14:16:26,217 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: \"\\\\192.168.86.109\\home\\bill\\Documents\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.156065", "end": "2025-07-03 18:16:24.440001", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:24.283935", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:28,207 p=87691 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: \"\\\\192.168.86.109\\home\\bill\\Downloads\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.092893", "end": "2025-07-03 18:16:26.437811", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:16:26.344917", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:16:29,835 p=87691 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 14:16:31,544 p=87691 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 14:16:33,235 p=87691 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 14:16:34,872 p=87691 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 14:16:34,904 p=87691 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 14:16:34,904 p=87691 u=bill n=ansible INFO| windows11                  : ok=14   changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2025-07-03 14:17:34,137 p=87920 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 14:17:34,143 p=87920 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 14:17:36,986 p=87920 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:17:36,989 p=87920 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:17:37,005 p=87920 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 14:17:37,007 p=87920 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 14:17:37,007 p=87920 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 14:17:47,867 p=87998 u=bill n=ansible INFO| ansible-playbook [core 2.18.6]
  config file = /home/bill/git/home.net/ansible.cfg
  configured module search path = ['/home/bill/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  ansible collection location = /home/bill/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/bin/ansible-playbook
  python version = 3.12.3 (main, Jun 18 2025, 17:59:45) [GCC 13.3.0] (/usr/bin/python3)
  jinja version = 3.1.2
  libyaml = True
2025-07-03 14:17:47,867 p=87998 u=bill n=ansible INFO| Using /home/bill/git/home.net/ansible.cfg as config file
2025-07-03 14:17:58,563 p=87998 u=bill n=ansible INFO| Parsed /home/bill/git/home.net/inventory inventory source with ini plugin
2025-07-03 14:17:58,661 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,664 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,664 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,665 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,689 p=87998 u=bill n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-07-03 14:17:58,690 p=87998 u=bill n=ansible INFO| Skipping callback 'minimal', as we already have a stdout callback.
2025-07-03 14:17:58,690 p=87998 u=bill n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-07-03 14:17:58,690 p=87998 u=bill n=ansible INFO| PLAYBOOK: windows.yml *********************************************************************************************************
2025-07-03 14:17:58,690 p=87998 u=bill n=ansible INFO| 1 plays in windows.yml
2025-07-03 14:17:58,690 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,690 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,691 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,691 p=87998 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 14:17:58,698 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:17:58,698 p=87998 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 14:17:58,698 p=87998 u=bill n=ansible INFO| task path: /home/bill/git/home.net/windows.yml:2
2025-07-03 14:17:58,709 p=87998 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.setup to ansible.windows.setup
2025-07-03 14:17:58,717 p=87998 u=bill n=ansible INFO| Using module file /usr/lib/python3/dist-packages/ansible_collections/ansible/windows/plugins/modules/setup.ps1
2025-07-03 14:17:58,718 p=87998 u=bill n=ansible INFO| Pipelining is enabled.
2025-07-03 14:17:58,718 p=87998 u=bill n=ansible INFO| <192.168.86.89> ESTABLISH WINRM CONNECTION FOR USER: wknig on PORT 5985 TO 192.168.86.89
2025-07-03 14:17:58,790 p=87998 u=bill n=ansible INFO| EXEC (via pipeline wrapper)
2025-07-03 14:18:01,449 p=87998 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:18:01,451 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:18:01,452 p=87998 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:18:01,452 p=87998 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/main.yml:11
2025-07-03 14:18:01,461 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:18:01,463 p=87998 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:18:01,465 p=87998 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:18:01,465 p=87998 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_stat to ansible.windows.win_stat
2025-07-03 14:18:01,466 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:18:01,466 p=87998 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 14:18:01,467 p=87998 u=bill n=ansible INFO| Read vars_file 'vault.yml'
2025-07-03 14:18:01,468 p=87998 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 14:18:01,468 p=87998 u=bill n=ansible INFO| windows11                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 14:19:06,876 p=88144 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 14:19:06,882 p=88144 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 14:19:09,781 p=88144 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:19:09,784 p=88144 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:19:09,800 p=88144 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 14:19:09,801 p=88144 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] ***********************************************************
2025-07-03 14:19:09,819 p=88144 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 14:19:09,821 p=88144 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] ***************************************************
2025-07-03 14:19:12,027 p=88144 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.057502", "end": "2025-07-03 18:19:10.254602", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:19:10.197100", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:19:14,064 p=88144 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.057489", "end": "2025-07-03 18:19:12.296080", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:19:12.238591", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:19:16,113 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 14:19:18,453 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 14:19:20,461 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 14:19:22,485 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 14:19:22,516 p=88144 u=bill n=ansible INFO| ...ignoring
2025-07-03 14:19:22,519 p=88144 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] ***************************************************************
2025-07-03 14:19:24,619 p=88144 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: \"\\\\192.168.86.109\\home\\bill\\Documents\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.136310", "end": "2025-07-03 18:19:22.844551", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:19:22.708241", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:19:26,788 p=88144 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: \"\\\\192.168.86.109\\home\\bill\\Downloads\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.089106", "end": "2025-07-03 18:19:25.018232", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:19:24.929125", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:19:29,835 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 14:19:31,529 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 14:19:33,202 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 14:19:34,880 p=88144 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 14:19:34,912 p=88144 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 14:19:34,912 p=88144 u=bill n=ansible INFO| windows11                  : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2025-07-03 14:20:00,092 p=88337 u=bill n=ansible INFO| ansible-playbook [core 2.18.6]
  config file = /home/bill/git/home.net/ansible.cfg
  configured module search path = ['/home/bill/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  ansible collection location = /home/bill/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/bin/ansible-playbook
  python version = 3.12.3 (main, Jun 18 2025, 17:59:45) [GCC 13.3.0] (/usr/bin/python3)
  jinja version = 3.1.2
  libyaml = True
2025-07-03 14:20:00,092 p=88337 u=bill n=ansible INFO| Using /home/bill/git/home.net/ansible.cfg as config file
2025-07-03 14:20:08,548 p=88337 u=bill n=ansible INFO| Skipping callback 'default', as we already have a stdout callback.
2025-07-03 14:20:08,548 p=88337 u=bill n=ansible INFO| Skipping callback 'minimal', as we already have a stdout callback.
2025-07-03 14:20:08,548 p=88337 u=bill n=ansible INFO| Skipping callback 'oneline', as we already have a stdout callback.
2025-07-03 14:20:08,548 p=88337 u=bill n=ansible INFO| PLAYBOOK: windows.yml *********************************************************************************************************
2025-07-03 14:20:08,548 p=88337 u=bill n=ansible INFO| 1 plays in windows.yml
2025-07-03 14:20:08,549 p=88337 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 14:20:08,556 p=88337 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 14:20:08,556 p=88337 u=bill n=ansible INFO| task path: /home/bill/git/home.net/windows.yml:2
2025-07-03 14:20:08,565 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.setup to ansible.windows.setup
2025-07-03 14:20:11,324 p=88337 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:20:11,326 p=88337 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:20:11,327 p=88337 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/main.yml:11
2025-07-03 14:20:11,338 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:11,339 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:11,340 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_stat to ansible.windows.win_stat
2025-07-03 14:20:11,341 p=88337 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 14:20:11,343 p=88337 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] ***********************************************************
2025-07-03 14:20:11,343 p=88337 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml:2
2025-07-03 14:20:11,360 p=88337 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 14:20:11,362 p=88337 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] ***************************************************
2025-07-03 14:20:11,362 p=88337 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml:7
2025-07-03 14:20:11,376 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:11,376 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:13,092 p=88337 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.059233", "end": "2025-07-03 18:20:11.318386", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:20:11.259153", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:20:13,095 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:13,096 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:14,707 p=88337 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.055447", "end": "2025-07-03 18:20:12.931886", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:20:12.876439", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:20:14,710 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:14,711 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:16,320 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.065256", "end": "2025-07-03 18:20:14.548439", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "rc": 0, "start": "2025-07-03 18:20:14.483182", "stderr": "", "stderr_lines": [], "stdout": "M: was deleted successfully.\r\n\r\n", "stdout_lines": ["M: was deleted successfully.", ""]}
2025-07-03 14:20:16,323 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:16,323 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:17,920 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.063238", "end": "2025-07-03 18:20:16.154711", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "rc": 0, "start": "2025-07-03 18:20:16.091472", "stderr": "", "stderr_lines": [], "stdout": "P: was deleted successfully.\r\n\r\n", "stdout_lines": ["P: was deleted successfully.", ""]}
2025-07-03 14:20:17,924 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:17,924 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:19,626 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.110625", "end": "2025-07-03 18:20:17.851886", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "rc": 0, "start": "2025-07-03 18:20:17.741260", "stderr": "", "stderr_lines": [], "stdout": "S: was deleted successfully.\r\n\r\n", "stdout_lines": ["S: was deleted successfully.", ""]}
2025-07-03 14:20:19,629 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:19,629 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:21,571 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.090841", "end": "2025-07-03 18:20:19.803811", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "rc": 0, "start": "2025-07-03 18:20:19.712969", "stderr": "", "stderr_lines": [], "stdout": "W: was deleted successfully.\r\n\r\n", "stdout_lines": ["W: was deleted successfully.", ""]}
2025-07-03 14:20:21,602 p=88337 u=bill n=ansible INFO| ...ignoring
2025-07-03 14:20:21,604 p=88337 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] ***************************************************************
2025-07-03 14:20:21,604 p=88337 u=bill n=ansible INFO| task path: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml:16
2025-07-03 14:20:21,621 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:21,624 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:23,406 p=88337 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: \"\\\\192.168.86.109\\home\\bill\\Documents\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.106848", "end": "2025-07-03 18:20:21.617530", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:20:21.510681", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:20:23,411 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:23,411 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:25,061 p=88337 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\home\\bill\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: \"\\\\192.168.86.109\\home\\bill\\Downloads\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.089086", "end": "2025-07-03 18:20:23.288874", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\home\\bill\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:20:23.199787", "stderr": "System error 59 has occurred.\r\n\r\nAn unexpected network error occurred.\r\n\r\n", "stderr_lines": ["System error 59 has occurred.", "", "An unexpected network error occurred.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:20:25,065 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:25,066 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:26,704 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: \"\\\\192.168.86.109\\media\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.073024", "end": "2025-07-03 18:20:24.928672", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "rc": 0, "start": "2025-07-03 18:20:24.855648", "stderr": "", "stderr_lines": [], "stdout": "The command completed successfully.\r\n\r\n", "stdout_lines": ["The command completed successfully.", ""]}
2025-07-03 14:20:26,707 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:26,708 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:28,335 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: \"\\\\192.168.86.109\\paper\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.071284", "end": "2025-07-03 18:20:26.564654", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "rc": 0, "start": "2025-07-03 18:20:26.493369", "stderr": "", "stderr_lines": [], "stdout": "The command completed successfully.\r\n\r\n", "stdout_lines": ["The command completed successfully.", ""]}
2025-07-03 14:20:28,339 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:28,339 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:29,958 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: \"\\\\192.168.86.109\\shared_files\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.075035", "end": "2025-07-03 18:20:28.182505", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "rc": 0, "start": "2025-07-03 18:20:28.107469", "stderr": "", "stderr_lines": [], "stdout": "The command completed successfully.\r\n\r\n", "stdout_lines": ["The command completed successfully.", ""]}
2025-07-03 14:20:29,961 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:29,962 p=88337 u=bill n=ansible INFO| redirecting (type: modules) ansible.builtin.win_command to ansible.windows.win_command
2025-07-03 14:20:31,601 p=88337 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: \"\\\\192.168.86.109\\workouts\" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes", "delta": "0:00:00.074759", "end": "2025-07-03 18:20:29.824180", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "rc": 0, "start": "2025-07-03 18:20:29.749421", "stderr": "", "stderr_lines": [], "stdout": "The command completed successfully.\r\n\r\n", "stdout_lines": ["The command completed successfully.", ""]}
2025-07-03 14:20:31,630 p=88337 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 14:20:31,630 p=88337 u=bill n=ansible INFO| windows11                  : ok=4    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2025-07-03 14:20:58,028 p=88497 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-03 14:21:17,196 p=88578 u=bill n=ansible INFO| windows11 | FAILED | rc=2 >>
Failed to run: 'dir M:': Exception calling "CreateProcess" with "7" argument(s): "CreateProcessW() failed (The system cannot find the file specified, Win32ErrorCode 2 - 0x00000002)"

2025-07-03 14:21:39,683 p=88634 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
M: was deleted successfully.



2025-07-03 14:21:59,076 p=88692 u=bill n=ansible INFO| windows11 | FAILED | rc=2 >>
Enter the password for 'bill' to connect to '192.168.86.109':  
System error 86 has occurred.

The specified network password is not correct.

non-zero return code

2025-07-03 14:28:11,366 p=88998 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>

Pinging 192.168.86.109 with 32 bytes of data:
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64
Reply from 192.168.86.109: bytes=32 time<1ms TTL=64

Ping statistics for 192.168.86.109:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 0ms, Maximum = 0ms, Average = 0ms


2025-07-03 14:28:45,956 p=89122 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
The command completed successfully.



2025-07-03 14:29:03,874 p=89178 u=bill n=ansible INFO| windows11 | FAILED | rc=2 >>
Failed to run: 'dir \\192.168.86.109\media': Exception calling "CreateProcess" with "7" argument(s): "CreateProcessW() failed (The system cannot find the file specified, Win32ErrorCode 2 - 0x00000002)"

2025-07-03 14:29:23,038 p=89234 u=bill n=ansible INFO| windows11 | FAILED | rc=1 >>
dir : Access is denied
At line:1 char:65
+ ... ing = New-Object Text.UTF8Encoding $false; dir \\192.168.86.109\media
+                                                ~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : PermissionDenied: (\\192.168.86.109\media:String) [Get-ChildItem], UnauthorizedAccessExc 
   eption
    + FullyQualifiedErrorId : ItemExistsUnauthorizedAccessError,Microsoft.PowerShell.Commands.GetChildItemCommand
 
dir : Cannot find path '\\192.168.86.109\media' because it does not exist.
At line:1 char:65
+ ... ing = New-Object Text.UTF8Encoding $false; dir \\192.168.86.109\media
+                                                ~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (\\192.168.86.109\media:String) [Get-ChildItem], ItemNotFoundException
    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.GetChildItemCommandnon-zero return code

2025-07-03 14:29:40,751 p=89303 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
The command completed successfully.



2025-07-03 14:29:55,617 p=89359 u=bill n=ansible INFO| windows11 | FAILED | rc=1 >>
dir : Cannot find drive. A drive with the name 'M' does not exist.
At line:1 char:65
+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir M:
+                                                                    ~~~~~~
    + CategoryInfo          : ObjectNotFound: (M:String) [Get-ChildItem], DriveNotFoundException
    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommandnon-zero return code

2025-07-03 14:30:12,226 p=89456 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-03 14:46:31,855 p=90580 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 14:46:31,861 p=90580 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 14:46:34,869 p=90580 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 14:46:34,871 p=90580 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 14:46:34,886 p=90580 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 14:46:34,888 p=90580 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] ***********************************************************
2025-07-03 14:46:34,904 p=90580 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 14:46:34,906 p=90580 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] ***************************************************
2025-07-03 14:46:36,633 p=90580 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.059481", "end": "2025-07-03 18:46:34.812270", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:46:34.752788", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:46:38,308 p=90580 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.085077", "end": "2025-07-03 18:46:36.499548", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 18:46:36.414471", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 14:46:39,921 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 14:46:41,535 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 14:46:43,151 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 14:46:44,774 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 14:46:44,804 p=90580 u=bill n=ansible INFO| ...ignoring
2025-07-03 14:46:44,807 p=90580 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] ***************************************************************
2025-07-03 14:46:46,543 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 14:46:48,160 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 14:46:49,799 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 14:46:51,522 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 14:46:53,171 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 14:46:54,812 p=90580 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 14:46:54,845 p=90580 u=bill n=ansible INFO| TASK [windows : Display drive mapping results] ********************************************************************************
2025-07-03 14:46:54,869 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use H: "\\\\192.168.86.109\\Documents" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use H: "\\\\192.168.86.109\\Documents" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 18:46:44.654776', 'end': '2025-07-03 18:46:44.735843', 'delta': '0:00:00.081067', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): Success"
}
2025-07-03 14:46:54,875 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use I: "\\\\192.168.86.109\\Downloads" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use I: "\\\\192.168.86.109\\Downloads" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 18:46:46.280722', 'end': '2025-07-03 18:46:46.351989', 'delta': '0:00:00.071266', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): Success"
}
2025-07-03 14:46:54,881 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use M: "\\\\192.168.86.109\\media" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use M: "\\\\192.168.86.109\\media" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 18:46:47.912779', 'end': '2025-07-03 18:46:47.985829', 'delta': '0:00:00.073050', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): Success"
}
2025-07-03 14:46:54,887 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use P: "\\\\192.168.86.109\\paper" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use P: "\\\\192.168.86.109\\paper" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 18:46:49.614343', 'end': '2025-07-03 18:46:49.713219', 'delta': '0:00:00.098876', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): Success"
}
2025-07-03 14:46:54,893 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use S: "\\\\192.168.86.109\\shared_files" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use S: "\\\\192.168.86.109\\shared_files" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 18:46:51.292018', 'end': '2025-07-03 18:46:51.367063', 'delta': '0:00:00.075045', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): Success"
}
2025-07-03 14:46:54,898 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use W: "\\\\192.168.86.109\\workouts" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use W: "\\\\192.168.86.109\\workouts" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 18:46:52.928218', 'end': '2025-07-03 18:46:52.999239', 'delta': '0:00:00.071020', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): Success"
}
2025-07-03 14:46:54,902 p=90580 u=bill n=ansible INFO| TASK [windows : Test network drive connectivity] ******************************************************************************
2025-07-03 14:46:56,867 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 14:46:59,113 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 14:47:01,464 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 14:47:03,899 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 14:47:05,927 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 14:47:08,393 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 14:47:08,432 p=90580 u=bill n=ansible INFO| TASK [windows : Report connectivity status] ***********************************************************************************
2025-07-03 14:47:08,454 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'H:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ❌ Failed to connect"
}
2025-07-03 14:47:08,460 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'I:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ❌ Failed to connect"
}
2025-07-03 14:47:08,466 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'M:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ❌ Failed to connect"
}
2025-07-03 14:47:08,472 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'P:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ❌ Failed to connect"
}
2025-07-03 14:47:08,479 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'S:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ❌ Failed to connect"
}
2025-07-03 14:47:08,484 p=90580 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'W:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ❌ Failed to connect"
}
2025-07-03 14:47:08,488 p=90580 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 14:47:08,489 p=90580 u=bill n=ansible INFO| windows11                  : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2025-07-03 14:47:31,411 p=90819 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  H:        \\192.168.86.109\Documents 
                                                Microsoft Windows Network
Unavailable  I:        \\192.168.86.109\Downloads 
                                                Microsoft Windows Network
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-03 14:47:55,493 p=90887 u=bill n=ansible INFO| windows11 | FAILED | rc=1 >>
dir : Cannot find path '\\\\192.168.86.109\\Documents' because it does not exist.
At line:1 char:65
+ ... -Object Text.UTF8Encoding $false; dir "\\\\192.168.86.109\\Documents"
+                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (\\\\192.168.86.109\\Documents:String) [Get-ChildItem], ItemNotFoundExce 
   ption
    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.GetChildItemCommandnon-zero return code

2025-07-03 14:59:36,759 p=91197 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
H: was deleted successfully.



2025-07-03 14:59:58,688 p=91269 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
The command completed successfully.



2025-07-03 15:00:15,727 p=91328 u=bill n=ansible INFO| windows11 | FAILED | rc=1 >>
dir : Cannot find drive. A drive with the name 'H' does not exist.
At line:1 char:65
+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir H:
+                                                                    ~~~~~~
    + CategoryInfo          : ObjectNotFound: (H:String) [Get-ChildItem], DriveNotFoundException
    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommandnon-zero return code

2025-07-03 15:00:34,171 p=91390 u=bill n=ansible INFO| windows11 | FAILED | rc=2 >>
Failed to run: 'dir H:': Exception calling "CreateProcess" with "7" argument(s): "CreateProcessW() failed (The system cannot find the file specified, Win32ErrorCode 2 - 0x00000002)"

2025-07-03 15:00:50,614 p=91446 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  H:        \\192.168.86.109\Documents 
                                                Microsoft Windows Network
Unavailable  I:        \\192.168.86.109\Downloads 
                                                Microsoft Windows Network
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-03 15:01:15,465 p=91713 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
You have these remote connections:

    H:              \\192.168.86.109\Documents
    I:              \\192.168.86.109\Downloads
    M:              \\192.168.86.109\media
    P:              \\192.168.86.109\paper
    S:              \\192.168.86.109\shared_files
    W:              \\192.168.86.109\workouts
Continuing will cancel the connections.

The command completed successfully.



2025-07-03 15:01:31,067 p=91796 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
The command completed successfully.



2025-07-03 15:01:45,657 p=91852 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  H:        \\192.168.86.109\Documents 
                                                Microsoft Windows Network
The command completed successfully.



2025-07-03 15:01:59,311 p=91924 u=bill n=ansible INFO| PLAY [Windows System Management] **********************************************************************************************
2025-07-03 15:01:59,317 p=91924 u=bill n=ansible INFO| TASK [Gathering Facts] ********************************************************************************************************
2025-07-03 15:02:02,132 p=91924 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 15:02:02,135 p=91924 u=bill n=ansible INFO| TASK [windows : include_tasks] ************************************************************************************************
2025-07-03 15:02:02,152 p=91924 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 15:02:02,154 p=91924 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] ***********************************************************
2025-07-03 15:02:02,170 p=91924 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 15:02:02,173 p=91924 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] ***************************************************
2025-07-03 15:02:03,919 p=91924 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 15:02:05,531 p=91924 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.059244", "end": "2025-07-03 19:02:03.695069", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 19:02:03.635825", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 15:02:07,148 p=91924 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.057218", "end": "2025-07-03 19:02:05.321241", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 19:02:05.264022", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 15:02:08,809 p=91924 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.086861", "end": "2025-07-03 19:02:06.981504", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 19:02:06.894642", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 15:02:10,432 p=91924 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.057488", "end": "2025-07-03 19:02:08.602015", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 19:02:08.544526", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 15:02:12,139 p=91924 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.092818", "end": "2025-07-03 19:02:10.307344", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 19:02:10.214525", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 15:02:12,170 p=91924 u=bill n=ansible INFO| ...ignoring
2025-07-03 15:02:12,172 p=91924 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] ***************************************************************
2025-07-03 15:02:14,067 p=91924 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 15:02:15,890 p=91924 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 15:02:17,528 p=91924 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 15:02:19,227 p=91924 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 15:02:20,913 p=91924 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 15:02:22,575 p=91924 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 15:02:22,607 p=91924 u=bill n=ansible INFO| TASK [windows : Display drive mapping results] ********************************************************************************
2025-07-03 15:02:22,631 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use H: "\\\\192.168.86.109\\Documents" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use H: "\\\\192.168.86.109\\Documents" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 19:02:12.059889', 'end': '2025-07-03 19:02:12.188368', 'delta': '0:00:00.128478', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): Success"
}
2025-07-03 15:02:22,637 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use I: "\\\\192.168.86.109\\Downloads" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use I: "\\\\192.168.86.109\\Downloads" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 19:02:13.956885', 'end': '2025-07-03 19:02:14.061522', 'delta': '0:00:00.104637', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): Success"
}
2025-07-03 15:02:22,644 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use M: "\\\\192.168.86.109\\media" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use M: "\\\\192.168.86.109\\media" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 19:02:15.626291', 'end': '2025-07-03 19:02:15.699584', 'delta': '0:00:00.073293', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): Success"
}
2025-07-03 15:02:22,650 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use P: "\\\\192.168.86.109\\paper" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use P: "\\\\192.168.86.109\\paper" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 19:02:17.301838', 'end': '2025-07-03 19:02:17.400726', 'delta': '0:00:00.098887', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): Success"
}
2025-07-03 15:02:22,657 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use S: "\\\\192.168.86.109\\shared_files" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use S: "\\\\192.168.86.109\\shared_files" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 19:02:18.969828', 'end': '2025-07-03 19:02:19.078480', 'delta': '0:00:00.108652', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): Success"
}
2025-07-03 15:02:22,663 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use W: "\\\\192.168.86.109\\workouts" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use W: "\\\\192.168.86.109\\workouts" I4V69b^WOR!@8OxVD4mE /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 19:02:20.671531', 'end': '2025-07-03 19:02:20.746834', 'delta': '0:00:00.075303', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): Success"
}
2025-07-03 15:02:22,666 p=91924 u=bill n=ansible INFO| TASK [windows : Test network drive connectivity] ******************************************************************************
2025-07-03 15:02:26,020 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 15:02:29,461 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 15:02:31,343 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 15:02:43,975 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 15:02:57,195 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 15:03:00,160 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 15:03:00,192 p=91924 u=bill n=ansible INFO| TASK [windows : Report connectivity status] ***********************************************************************************
2025-07-03 15:03:00,212 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'H:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ❌ Failed to connect"
}
2025-07-03 15:03:00,217 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'I:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ❌ Failed to connect"
}
2025-07-03 15:03:00,222 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'M:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ❌ Failed to connect"
}
2025-07-03 15:03:00,228 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'P:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ❌ Failed to connect"
}
2025-07-03 15:03:00,235 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'S:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ❌ Failed to connect"
}
2025-07-03 15:03:00,241 p=91924 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'W:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ❌ Failed to connect"
}
2025-07-03 15:03:00,245 p=91924 u=bill n=ansible INFO| PLAY RECAP ********************************************************************************************************************
2025-07-03 15:03:00,245 p=91924 u=bill n=ansible INFO| windows11                  : ok=8    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2025-07-03 15:06:26,192 p=92232 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  H:        \\192.168.86.109\Documents 
                                                Microsoft Windows Network
Unavailable  I:        \\192.168.86.109\Downloads 
                                                Microsoft Windows Network
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-03 15:06:46,474 p=92289 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>

Currently stored credentials:

* NONE *


2025-07-03 15:07:10,706 p=92345 u=bill n=ansible INFO| windows11 | FAILED | rc=1 >>

CMDKEY: Credentials cannot be saved from this logon session.
non-zero return code

2025-07-03 15:07:32,036 p=92402 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
False


2025-07-03 15:56:31,405 p=93169 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  H:        \\192.168.86.109\Documents 
                                                Microsoft Windows Network
Unavailable  I:        \\192.168.86.109\Downloads 
                                                Microsoft Windows Network
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
Unavailable  P:        \\192.168.86.109\paper    Microsoft Windows Network
Unavailable  S:        \\192.168.86.109\shared_files 
                                                Microsoft Windows Network
Unavailable  W:        \\192.168.86.109\workouts Microsoft Windows Network
The command completed successfully.



2025-07-03 15:56:42,590 p=93211 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
You have these remote connections:

    H:              \\192.168.86.109\Documents
    I:              \\192.168.86.109\Downloads
    M:              \\192.168.86.109\media
    P:              \\192.168.86.109\paper
    S:              \\192.168.86.109\shared_files
    W:              \\192.168.86.109\workouts
Continuing will cancel the connections.

The command completed successfully.



2025-07-03 15:57:35,360 p=93252 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
The command completed successfully.



2025-07-03 15:57:56,710 p=93296 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
New connections will be remembered.


Status       Local     Remote                    Network

-------------------------------------------------------------------------------
Unavailable  M:        \\192.168.86.109\media    Microsoft Windows Network
The command completed successfully.



2025-07-03 15:58:07,213 p=93338 u=bill n=ansible INFO| windows11 | CHANGED | rc=0 >>
False


2025-07-03 15:58:16,664 p=93379 u=bill n=ansible INFO| windows11 | FAILED | rc=1 >>

CMDKEY: Credentials cannot be saved from this logon session.
non-zero return code

2025-07-03 16:19:25,313 p=94677 u=bill n=ansible ERROR| ERROR! failed at splitting arguments, either an unbalanced jinja2 block or quotes: net use * "\\\\{{ truenas_server_ip }}\\Downloads" "{{ truenas_smb_password }}" /user:{{ truenas_smb_user }}". failed at splitting arguments, either an unbalanced jinja2 block or quotes: net use * "\\\\{{ truenas_server_ip }}\\Downloads" "{{ truenas_smb_password }}" /user:{{ truenas_smb_user }}"

The error appears to be in '/home/bill/git/home.net/test_windows_smb.yml': line 39, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Test SMB connectivity
      ^ here

2025-07-03 16:20:35,154 p=94734 u=bill n=ansible INFO| PLAY [Test Windows SMB Configuration] **********************************************************************************************
2025-07-03 16:20:35,160 p=94734 u=bill n=ansible INFO| TASK [Gathering Facts] *************************************************************************************************************
2025-07-03 16:20:38,302 p=94734 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:20:38,305 p=94734 u=bill n=ansible INFO| TASK [Test WinRM connection] *******************************************************************************************************
2025-07-03 16:20:39,891 p=94734 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:20:39,894 p=94734 u=bill n=ansible INFO| TASK [Display connection info] *****************************************************************************************************
2025-07-03 16:20:39,907 p=94734 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "Connected to: windows11 (192.168.86.89)",
        "User: wknig",
        "Connection: winrm"
    ]
}
2025-07-03 16:20:39,909 p=94734 u=bill n=ansible INFO| TASK [Test variables] **************************************************************************************************************
2025-07-03 16:20:39,932 p=94734 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "TrueNAS server IP: 192.168.86.109",
        "SMB user: bill",
        "SMB password defined: YES",
        "Windows password defined: YES",
        "Network drives count: 6"
    ]
}
2025-07-03 16:20:39,934 p=94734 u=bill n=ansible INFO| TASK [Test basic network connectivity to TrueNAS] **********************************************************************************
2025-07-03 16:20:42,512 p=94734 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:20:42,514 p=94734 u=bill n=ansible INFO| TASK [Show ping result] ************************************************************************************************************
2025-07-03 16:20:42,530 p=94734 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Ping to TrueNAS (192.168.86.109): SUCCESS"
}
2025-07-03 16:20:42,533 p=94734 u=bill n=ansible INFO| TASK [Test SMB connectivity] *******************************************************************************************************
2025-07-03 16:20:44,899 p=94734 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:20:44,902 p=94734 u=bill n=ansible INFO| TASK [Show SMB test result] ********************************************************************************************************
2025-07-03 16:20:44,921 p=94734 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "SMB test to TrueNAS: SUCCESS"
}
2025-07-03 16:20:44,922 p=94734 u=bill n=ansible INFO| TASK [Clean up test connection] ****************************************************************************************************
2025-07-03 16:20:47,271 p=94734 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:20:47,274 p=94734 u=bill n=ansible INFO| TASK [Test timezone configuration] *************************************************************************************************
2025-07-03 16:20:49,043 p=94734 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:20:49,045 p=94734 u=bill n=ansible INFO| TASK [Show current timezone] *******************************************************************************************************
2025-07-03 16:20:49,064 p=94734 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Current timezone: Pacific Standard Time"
}
2025-07-03 16:20:49,065 p=94734 u=bill n=ansible INFO| PLAY RECAP *************************************************************************************************************************
2025-07-03 16:20:49,066 p=94734 u=bill n=ansible INFO| windows11                  : ok=11   changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:21:53,498 p=94847 u=bill n=ansible INFO| PLAY [Windows System Management] *********************************************************************************************
2025-07-03 16:21:53,504 p=94847 u=bill n=ansible INFO| TASK [Gathering Facts] *******************************************************************************************************
2025-07-03 16:21:56,241 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:21:56,244 p=94847 u=bill n=ansible INFO| TASK [Ensure WinRM is accessible] ********************************************************************************************
2025-07-03 16:21:57,795 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:21:57,798 p=94847 u=bill n=ansible INFO| TASK [windows : include_tasks] ***********************************************************************************************
2025-07-03 16:21:57,817 p=94847 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/ssh_key_management.yml for windows11
2025-07-03 16:21:57,819 p=94847 u=bill n=ansible INFO| TASK [windows : Deploy SSH public keys from vault to administrators_authorized_keys] *****************************************
2025-07-03 16:21:58,952 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:21:58,956 p=94847 u=bill n=ansible INFO| TASK [windows : Set permissions on administrators_authorized_keys] ***********************************************************
2025-07-03 16:22:01,680 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item=Administrators)
2025-07-03 16:22:04,757 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item=SYSTEM)
2025-07-03 16:22:04,794 p=94847 u=bill n=ansible INFO| TASK [windows : Remove inherited permissions and set explicit permissions] ***************************************************
2025-07-03 16:22:07,904 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:22:07,906 p=94847 u=bill n=ansible INFO| TASK [windows : Restart SSH service] *****************************************************************************************
2025-07-03 16:22:10,993 p=94847 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:22:10,995 p=94847 u=bill n=ansible INFO| TASK [windows : include_tasks] ***********************************************************************************************
2025-07-03 16:22:11,009 p=94847 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/deploy_scripts.yml for windows11
2025-07-03 16:22:11,012 p=94847 u=bill n=ansible INFO| TASK [windows : Create Scripts directory if it doesn't exist] ****************************************************************
2025-07-03 16:22:12,337 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:22:12,340 p=94847 u=bill n=ansible INFO| TASK [windows : Deploy network drive management PowerShell script] ***********************************************************
2025-07-03 16:22:13,444 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:22:13,447 p=94847 u=bill n=ansible INFO| TASK [windows : Create desktop shortcut for network drive script] ************************************************************
2025-07-03 16:22:15,327 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:22:15,330 p=94847 u=bill n=ansible INFO| TASK [windows : include_tasks] ***********************************************************************************************
2025-07-03 16:22:15,347 p=94847 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 16:22:15,351 p=94847 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] **********************************************************
2025-07-03 16:22:15,372 p=94847 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 16:22:15,374 p=94847 u=bill n=ansible INFO| TASK [windows : Debug - Check TrueNAS connection variables] ******************************************************************
2025-07-03 16:22:15,393 p=94847 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "TrueNAS server IP: 192.168.86.109",
        "SMB user: bill",
        "SMB password defined: YES"
    ]
}
2025-07-03 16:22:15,396 p=94847 u=bill n=ansible INFO| TASK [windows : Test connectivity to TrueNAS server] *************************************************************************
2025-07-03 16:22:16,985 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:22:16,987 p=94847 u=bill n=ansible INFO| TASK [windows : Display TrueNAS connectivity status] *************************************************************************
2025-07-03 16:22:17,003 p=94847 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "TrueNAS server (192.168.86.109): ✅ Reachable"
}
2025-07-03 16:22:17,005 p=94847 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] **************************************************
2025-07-03 16:22:33,404 p=94847 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.057476", "end": "2025-07-03 20:22:31.453792", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:22:31.396316", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:22:35,018 p=94847 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.059222", "end": "2025-07-03 20:22:33.073912", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:22:33.014689", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:22:36,622 p=94847 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use M: /delete /yes", "delta": "0:00:00.055432", "end": "2025-07-03 20:22:34.676048", "item": {"drive_letter": "M:", "name": "Media", "persistent": true, "remote_path": "\\\\192.168.86.109\\media"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:22:34.620616", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:22:38,218 p=94847 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.055191", "end": "2025-07-03 20:22:36.267733", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:22:36.212541", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:22:39,829 p=94847 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.057466", "end": "2025-07-03 20:22:37.884606", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:22:37.827140", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:22:41,500 p=94847 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.085021", "end": "2025-07-03 20:22:39.555549", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:22:39.470527", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:22:41,530 p=94847 u=bill n=ansible INFO| ...ignoring
2025-07-03 16:22:41,532 p=94847 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] **************************************************************
2025-07-03 16:22:43,272 p=94847 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:22:44,906 p=94847 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:22:46,558 p=94847 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:22:48,191 p=94847 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:22:49,829 p=94847 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:22:51,527 p=94847 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:22:51,562 p=94847 u=bill n=ansible INFO| TASK [windows : Display drive mapping results] *******************************************************************************
2025-07-03 16:22:51,588 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use H: "\\\\192.168.86.109\\Documents" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use H: "\\\\192.168.86.109\\Documents" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:22:41.237804', 'end': '2025-07-03 20:22:41.318868', 'delta': '0:00:00.081064', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): Success"
}
2025-07-03 16:22:51,595 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use I: "\\\\192.168.86.109\\Downloads" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use I: "\\\\192.168.86.109\\Downloads" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:22:42.887655', 'end': '2025-07-03 20:22:42.960689', 'delta': '0:00:00.073033', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): Success"
}
2025-07-03 16:22:51,603 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use M: "\\\\192.168.86.109\\media" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use M: "\\\\192.168.86.109\\media" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:22:44.537368', 'end': '2025-07-03 20:22:44.610662', 'delta': '0:00:00.073293', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): Success"
}
2025-07-03 16:22:51,609 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use P: "\\\\192.168.86.109\\paper" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use P: "\\\\192.168.86.109\\paper" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:22:46.171417', 'end': '2025-07-03 20:22:46.246452', 'delta': '0:00:00.075034', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): Success"
}
2025-07-03 16:22:51,616 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use S: "\\\\192.168.86.109\\shared_files" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use S: "\\\\192.168.86.109\\shared_files" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:22:47.803415', 'end': '2025-07-03 20:22:47.874440', 'delta': '0:00:00.071024', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): Success"
}
2025-07-03 16:22:51,622 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use W: "\\\\192.168.86.109\\workouts" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use W: "\\\\192.168.86.109\\workouts" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:22:49.479088', 'end': '2025-07-03 20:22:49.583722', 'delta': '0:00:00.104633', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): Success"
}
2025-07-03 16:22:51,625 p=94847 u=bill n=ansible INFO| TASK [windows : Test network drive connectivity] *****************************************************************************
2025-07-03 16:22:53,580 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:22:55,433 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:22:57,278 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:22:59,113 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:23:02,499 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:23:04,754 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:23:04,787 p=94847 u=bill n=ansible INFO| TASK [windows : Report connectivity status] **********************************************************************************
2025-07-03 16:23:04,808 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'H:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ❌ Failed to connect"
}
2025-07-03 16:23:04,814 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'I:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ❌ Failed to connect"
}
2025-07-03 16:23:04,820 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'M:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ❌ Failed to connect"
}
2025-07-03 16:23:04,826 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'P:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ❌ Failed to connect"
}
2025-07-03 16:23:04,832 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'S:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ❌ Failed to connect"
}
2025-07-03 16:23:04,838 p=94847 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'W:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ❌ Failed to connect"
}
2025-07-03 16:23:04,841 p=94847 u=bill n=ansible INFO| TASK [windows : include_tasks] ***********************************************************************************************
2025-07-03 16:23:04,855 p=94847 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/timezone.yml for windows11
2025-07-03 16:23:04,860 p=94847 u=bill n=ansible INFO| TASK [windows : Get current timezone] ****************************************************************************************
2025-07-03 16:23:06,884 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:23:06,886 p=94847 u=bill n=ansible INFO| TASK [windows : Display current timezone] ************************************************************************************
2025-07-03 16:23:06,903 p=94847 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Current timezone: Pacific Standard Time"
}
2025-07-03 16:23:06,905 p=94847 u=bill n=ansible INFO| TASK [windows : Set timezone to Eastern Time (New York)] *********************************************************************
2025-07-03 16:23:08,258 p=94847 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:23:08,261 p=94847 u=bill n=ansible INFO| TASK [windows : Display timezone change result] ******************************************************************************
2025-07-03 16:23:08,273 p=94847 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Timezone changed to Eastern Time"
}
2025-07-03 16:23:08,275 p=94847 u=bill n=ansible INFO| TASK [windows : Verify timezone change] **************************************************************************************
2025-07-03 16:23:10,883 p=94847 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:23:10,885 p=94847 u=bill n=ansible INFO| TASK [windows : Display final timezone] **************************************************************************************
2025-07-03 16:23:10,904 p=94847 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Final timezone: Eastern Standard Time"
}
2025-07-03 16:23:10,907 p=94847 u=bill n=ansible INFO| TASK [Display network drive status] ******************************************************************************************
2025-07-03 16:23:10,918 p=94847 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Windows network drive management completed for windows11"
}
2025-07-03 16:23:10,919 p=94847 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:23:10,919 p=94847 u=bill n=ansible INFO| windows11                  : ok=29   changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2025-07-03 16:23:35,662 p=95231 u=bill n=ansible INFO| windows11 | FAILED | rc=-1 >>
The field 'password' has an invalid value, which includes an undefined variable.. 'windows_password' is undefined

2025-07-03 16:23:43,194 p=95266 u=bill n=ansible INFO| PLAY [Windows System Management] *********************************************************************************************
2025-07-03 16:23:43,201 p=95266 u=bill n=ansible INFO| TASK [Gathering Facts] *******************************************************************************************************
2025-07-03 16:23:46,323 p=95266 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:23:46,326 p=95266 u=bill n=ansible INFO| TASK [windows : include_tasks] ***********************************************************************************************
2025-07-03 16:23:46,344 p=95266 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 16:23:46,346 p=95266 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] **********************************************************
2025-07-03 16:23:46,367 p=95266 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 16:23:46,369 p=95266 u=bill n=ansible INFO| TASK [windows : Debug - Check TrueNAS connection variables] ******************************************************************
2025-07-03 16:23:46,389 p=95266 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "TrueNAS server IP: 192.168.86.109",
        "SMB user: bill",
        "SMB password defined: YES"
    ]
}
2025-07-03 16:23:46,391 p=95266 u=bill n=ansible INFO| TASK [windows : Test connectivity to TrueNAS server] *************************************************************************
2025-07-03 16:23:48,014 p=95266 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:23:48,017 p=95266 u=bill n=ansible INFO| TASK [windows : Display TrueNAS connectivity status] *************************************************************************
2025-07-03 16:23:48,034 p=95266 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "TrueNAS server (192.168.86.109): ✅ Reachable"
}
2025-07-03 16:23:48,036 p=95266 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] **************************************************
2025-07-03 16:23:49,836 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:23:51,515 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:23:53,155 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:23:54,798 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:23:56,489 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:23:58,134 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:23:58,166 p=95266 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] **************************************************************
2025-07-03 16:23:59,969 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:24:01,666 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:24:03,366 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:24:05,044 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:24:06,736 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:24:08,528 p=95266 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:24:08,563 p=95266 u=bill n=ansible INFO| TASK [windows : Display drive mapping results] *******************************************************************************
2025-07-03 16:24:08,590 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use H: "\\\\192.168.86.109\\Documents" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use H: "\\\\192.168.86.109\\Documents" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:23:57.904417', 'end': '2025-07-03 20:23:57.985505', 'delta': '0:00:00.081088', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): Success"
}
2025-07-03 16:24:08,598 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use I: "\\\\192.168.86.109\\Downloads" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use I: "\\\\192.168.86.109\\Downloads" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:23:59.648522', 'end': '2025-07-03 20:23:59.719556', 'delta': '0:00:00.071033', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): Success"
}
2025-07-03 16:24:08,605 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use M: "\\\\192.168.86.109\\media" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use M: "\\\\192.168.86.109\\media" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:24:01.314095', 'end': '2025-07-03 20:24:01.387381', 'delta': '0:00:00.073286', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): Success"
}
2025-07-03 16:24:08,612 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use P: "\\\\192.168.86.109\\paper" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use P: "\\\\192.168.86.109\\paper" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:24:03.001497', 'end': '2025-07-03 20:24:03.074512', 'delta': '0:00:00.073014', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): Success"
}
2025-07-03 16:24:08,622 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use S: "\\\\192.168.86.109\\shared_files" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use S: "\\\\192.168.86.109\\shared_files" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:24:04.714469', 'end': '2025-07-03 20:24:04.785736', 'delta': '0:00:00.071266', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): Success"
}
2025-07-03 16:24:08,629 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'removes': None, '_raw_params': 'net use W: "\\\\192.168.86.109\\workouts" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'chdir': None, 'creates': None, 'output_encoding_override': None, 'cmd': None, 'argv': None, 'stdin': None}}, 'cmd': 'net use W: "\\\\192.168.86.109\\workouts" "I4V69b^WOR!@8OxVD4mE" /user:bill /persistent:yes', 'rc': 0, 'stdout': 'The command completed successfully.\r\n\r\n', 'stderr': '', 'start': '2025-07-03 20:24:06.459039', 'end': '2025-07-03 20:24:06.571687', 'delta': '0:00:00.112648', 'stdout_lines': ['The command completed successfully.', ''], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): Success"
}
2025-07-03 16:24:08,633 p=95266 u=bill n=ansible INFO| TASK [windows : Test network drive connectivity] *****************************************************************************
2025-07-03 16:24:11,212 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:24:13,808 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:24:16,684 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:24:19,311 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:24:21,560 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:24:23,852 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:24:23,885 p=95266 u=bill n=ansible INFO| TASK [windows : Report connectivity status] **********************************************************************************
2025-07-03 16:24:23,907 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'H:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ❌ Failed to connect"
}
2025-07-03 16:24:23,914 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'I:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ❌ Failed to connect"
}
2025-07-03 16:24:23,922 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'M:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ❌ Failed to connect"
}
2025-07-03 16:24:23,928 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'P:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ❌ Failed to connect"
}
2025-07-03 16:24:23,936 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'S:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ❌ Failed to connect"
}
2025-07-03 16:24:23,944 p=95266 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': False, 'invocation': {'module_args': {'get_size': True, 'path': 'W:\\', 'checksum_algorithm': 'sha1', 'get_checksum': True, 'follow': False}}, 'stat': {'exists': False}, 'failed': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ❌ Failed to connect"
}
2025-07-03 16:24:23,947 p=95266 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:24:23,948 p=95266 u=bill n=ansible INFO| windows11                  : ok=11   changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:24:47,062 p=95496 u=bill n=ansible INFO| PLAY [Debug SMB Shares] ******************************************************************************************************
2025-07-03 16:24:47,067 p=95496 u=bill n=ansible INFO| TASK [Check currently mapped drives] *****************************************************************************************
2025-07-03 16:24:49,328 p=95496 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:24:49,329 p=95496 u=bill n=ansible INFO| TASK [Display currently mapped drives] ***************************************************************************************
2025-07-03 16:24:49,341 p=95496 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "New connections will be remembered.",
        "",
        "",
        "Status       Local     Remote                    Network",
        "",
        "-------------------------------------------------------------------------------",
        "Unavailable  H:        \\\\192.168.86.109\\Documents ",
        "                                                Microsoft Windows Network",
        "Unavailable  I:        \\\\192.168.86.109\\Downloads ",
        "                                                Microsoft Windows Network",
        "Unavailable  M:        \\\\192.168.86.109\\media    Microsoft Windows Network",
        "Unavailable  P:        \\\\192.168.86.109\\paper    Microsoft Windows Network",
        "Unavailable  S:        \\\\192.168.86.109\\shared_files ",
        "                                                Microsoft Windows Network",
        "Unavailable  W:        \\\\192.168.86.109\\workouts Microsoft Windows Network",
        "The command completed successfully.",
        ""
    ]
}
2025-07-03 16:24:49,343 p=95496 u=bill n=ansible INFO| TASK [Test access to each mapped drive] **************************************************************************************
2025-07-03 16:24:51,532 p=95496 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:24:53,686 p=95496 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:24:55,837 p=95496 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:24:58,035 p=95496 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:25:00,171 p=95496 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:25:06,494 p=95496 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:25:06,527 p=95496 u=bill n=ansible INFO| TASK [Display drive access results] ******************************************************************************************
2025-07-03 16:25:06,549 p=95496 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:24:49.144323', 'stdout': '', 'cmd': 'dir H:', 'msg': 'non-zero return code', 'stderr': "dir : Cannot find drive. A drive with the name 'H' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir H:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (H:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand", 'changed': True, 'rc': 1, 'failed': False, 'delta': '0:00:00.444892', 'end': '2025-07-03 20:24:49.589215', 'stdout_lines': [], 'stderr_lines': ["dir : Cannot find drive. A drive with the name 'H' does not exist.", 'At line:1 char:65', '+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir H:', '+                                                                    ~~~~~~', '    + CategoryInfo          : ObjectNotFound: (H:String) [Get-ChildItem], DriveNotFoundException', '    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand'], 'failed_when_result': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): NOT ACCESSIBLE - dir : Cannot find drive. A drive with the name 'H' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir H:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (H:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:25:06,554 p=95496 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:24:51.301249', 'stdout': '', 'cmd': 'dir I:', 'msg': 'non-zero return code', 'stderr': "dir : Cannot find drive. A drive with the name 'I' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir I:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (I:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand", 'changed': True, 'rc': 1, 'failed': False, 'delta': '0:00:00.436533', 'end': '2025-07-03 20:24:51.737783', 'stdout_lines': [], 'stderr_lines': ["dir : Cannot find drive. A drive with the name 'I' does not exist.", 'At line:1 char:65', '+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir I:', '+                                                                    ~~~~~~', '    + CategoryInfo          : ObjectNotFound: (I:String) [Get-ChildItem], DriveNotFoundException', '    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand'], 'failed_when_result': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): NOT ACCESSIBLE - dir : Cannot find drive. A drive with the name 'I' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir I:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (I:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:25:06,560 p=95496 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:24:53.461075', 'stdout': '', 'cmd': 'dir M:', 'msg': 'non-zero return code', 'stderr': "dir : Cannot find drive. A drive with the name 'M' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir M:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (M:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand", 'changed': True, 'rc': 1, 'failed': False, 'delta': '0:00:00.422835', 'end': '2025-07-03 20:24:53.883910', 'stdout_lines': [], 'stderr_lines': ["dir : Cannot find drive. A drive with the name 'M' does not exist.", 'At line:1 char:65', '+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir M:', '+                                                                    ~~~~~~', '    + CategoryInfo          : ObjectNotFound: (M:String) [Get-ChildItem], DriveNotFoundException', '    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand'], 'failed_when_result': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): NOT ACCESSIBLE - dir : Cannot find drive. A drive with the name 'M' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir M:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (M:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:25:06,565 p=95496 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:24:55.676113', 'stdout': '', 'cmd': 'dir P:', 'msg': 'non-zero return code', 'stderr': "dir : Cannot find drive. A drive with the name 'P' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir P:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (P:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand", 'changed': True, 'rc': 1, 'failed': False, 'delta': '0:00:00.409207', 'end': '2025-07-03 20:24:56.085321', 'stdout_lines': [], 'stderr_lines': ["dir : Cannot find drive. A drive with the name 'P' does not exist.", 'At line:1 char:65', '+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir P:', '+                                                                    ~~~~~~', '    + CategoryInfo          : ObjectNotFound: (P:String) [Get-ChildItem], DriveNotFoundException', '    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand'], 'failed_when_result': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): NOT ACCESSIBLE - dir : Cannot find drive. A drive with the name 'P' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir P:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (P:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:25:06,570 p=95496 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:24:57.779170', 'stdout': '', 'cmd': 'dir S:', 'msg': 'non-zero return code', 'stderr': "dir : Cannot find drive. A drive with the name 'S' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir S:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (S:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand", 'changed': True, 'rc': 1, 'failed': False, 'delta': '0:00:00.440724', 'end': '2025-07-03 20:24:58.219895', 'stdout_lines': [], 'stderr_lines': ["dir : Cannot find drive. A drive with the name 'S' does not exist.", 'At line:1 char:65', '+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir S:', '+                                                                    ~~~~~~', '    + CategoryInfo          : ObjectNotFound: (S:String) [Get-ChildItem], DriveNotFoundException', '    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand'], 'failed_when_result': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): NOT ACCESSIBLE - dir : Cannot find drive. A drive with the name 'S' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir S:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (S:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:25:06,575 p=95496 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:25:04.138091', 'stdout': '', 'cmd': 'dir W:', 'msg': 'non-zero return code', 'stderr': "dir : Cannot find drive. A drive with the name 'W' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir W:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (W:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand", 'changed': True, 'rc': 1, 'failed': False, 'delta': '0:00:00.405234', 'end': '2025-07-03 20:25:04.543326', 'stdout_lines': [], 'stderr_lines': ["dir : Cannot find drive. A drive with the name 'W' does not exist.", 'At line:1 char:65', '+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir W:', '+                                                                    ~~~~~~', '    + CategoryInfo          : ObjectNotFound: (W:String) [Get-ChildItem], DriveNotFoundException', '    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand'], 'failed_when_result': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): NOT ACCESSIBLE - dir : Cannot find drive. A drive with the name 'W' does not exist.\r\nAt line:1 char:65\r\n+ ... Console]::InputEncoding = New-Object Text.UTF8Encoding $false; dir W:\r\n+                                                                    ~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (W:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:25:06,578 p=95496 u=bill n=ansible INFO| TASK [List available shares on TrueNAS] **************************************************************************************
2025-07-03 16:25:08,419 p=95496 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:25:08,421 p=95496 u=bill n=ansible INFO| TASK [Display available shares] **********************************************************************************************
2025-07-03 16:25:08,436 p=95496 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Available shares on TrueNAS: ERROR: System error 5 has occurred.\r\n\r\nAccess is denied."
}
2025-07-03 16:25:08,437 p=95496 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:25:08,437 p=95496 u=bill n=ansible INFO| windows11                  : ok=6    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:27:51,359 p=95822 u=bill n=ansible INFO| PLAY [Detailed Windows SMB Drive Diagnostics] ********************************************************************************
2025-07-03 16:27:51,365 p=95822 u=bill n=ansible INFO| TASK [Clear all current drive mappings] **************************************************************************************
2025-07-03 16:27:53,211 p=95822 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:27:53,215 p=95822 u=bill n=ansible INFO| TASK [Wait a moment for cleanup] *********************************************************************************************
2025-07-03 16:27:53,226 p=95822 u=bill n=ansible INFO| Pausing for 2 seconds
2025-07-03 16:27:53,226 p=95822 u=bill n=ansible INFO| (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2025-07-03 16:27:55,229 p=95822 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:27:55,230 p=95822 u=bill n=ansible INFO| TASK [Test one drive at a time - Media drive] ********************************************************************************
2025-07-03 16:27:57,079 p=95822 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:27:57,081 p=95822 u=bill n=ansible INFO| TASK [Show media drive result] ***********************************************************************************************
2025-07-03 16:27:57,097 p=95822 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Media drive mapping result: ['The command completed successfully.', '']"
}
2025-07-03 16:27:57,098 p=95822 u=bill n=ansible INFO| TASK [Test media drive access immediately] ***********************************************************************************
2025-07-03 16:27:59,001 p=95822 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:27:59,002 p=95822 u=bill n=ansible INFO| TASK [Show media drive access] ***********************************************************************************************
2025-07-03 16:27:59,019 p=95822 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Media drive access: FAILED: dir : Cannot find drive. A drive with the name 'M' does not exist.\r\nAt line:1 char:65\r\n+ ... onsole]::InputEncoding = New-Object Text.UTF8Encoding $false; dir M:\\\r\n+                                                                   ~~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (M:String) [Get-ChildItem], DriveNotFoundException\r\n    + FullyQualifiedErrorId : DriveNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:27:59,021 p=95822 u=bill n=ansible INFO| TASK [Check drive list after mapping] ****************************************************************************************
2025-07-03 16:28:00,850 p=95822 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:00,851 p=95822 u=bill n=ansible INFO| TASK [Show drives after mapping] *********************************************************************************************
2025-07-03 16:28:00,862 p=95822 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "New connections will be remembered.",
        "",
        "",
        "Status       Local     Remote                    Network",
        "",
        "-------------------------------------------------------------------------------",
        "Unavailable  M:        \\\\192.168.86.109\\media    Microsoft Windows Network",
        "The command completed successfully.",
        ""
    ]
}
2025-07-03 16:28:00,864 p=95822 u=bill n=ansible INFO| TASK [Try accessing via UNC path directly] ***********************************************************************************
2025-07-03 16:28:02,761 p=95822 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:02,763 p=95822 u=bill n=ansible INFO| TASK [Show UNC access result] ************************************************************************************************
2025-07-03 16:28:02,782 p=95822 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "UNC path access: FAILED: dir : Access is denied\r\nAt line:1 char:65\r\n+ ... g = New-Object Text.UTF8Encoding $false; dir \"\\\\192.168.86.109\\media\"\r\n+                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : PermissionDenied: (\\\\192.168.86.109\\media:String) [Get-ChildItem], UnauthorizedAccessExc \r\n   eption\r\n    + FullyQualifiedErrorId : ItemExistsUnauthorizedAccessError,Microsoft.PowerShell.Commands.GetChildItemCommand\r\n \r\ndir : Cannot find path '\\\\192.168.86.109\\media' because it does not exist.\r\nAt line:1 char:65\r\n+ ... g = New-Object Text.UTF8Encoding $false; dir \"\\\\192.168.86.109\\media\"\r\n+                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (\\\\192.168.86.109\\media:String) [Get-ChildItem], ItemNotFoundException\r\n    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:28:02,783 p=95822 u=bill n=ansible INFO| TASK [Check Windows PowerShell drives] ***************************************************************************************
2025-07-03 16:28:05,069 p=95822 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:05,071 p=95822 u=bill n=ansible INFO| TASK [Show PowerShell drives] ************************************************************************************************
2025-07-03 16:28:05,083 p=95822 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "PowerShell drives: ['', 'Name           Used (GB)     Free (GB) Provider      Root                                               CurrentLocation', '----           ---------     --------- --------      ----                                               ---------------', 'C                  41.62         37.64 FileSystem    C:\\\\                                                    Users\\\\wknig', 'D                   5.42          0.00 FileSystem    D:\\\\                                                               ', '', '']"
}
2025-07-03 16:28:05,084 p=95822 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:28:05,084 p=95822 u=bill n=ansible INFO| windows11                  : ok=12   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:28:28,410 p=95927 u=bill n=ansible ERROR| ERROR! failed at splitting arguments, either an unbalanced jinja2 block or quotes: cmd /c "dir M:\". failed at splitting arguments, either an unbalanced jinja2 block or quotes: cmd /c "dir M:\"

The error appears to be in '/home/bill/git/home.net/smb_fix_test.yml': line 22, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Test drive access with cmd
      ^ here

2025-07-03 16:28:49,815 p=95976 u=bill n=ansible INFO| PLAY [Windows SMB Drive Fix Test] ********************************************************************************************
2025-07-03 16:28:49,822 p=95976 u=bill n=ansible INFO| TASK [Clear all mappings] ****************************************************************************************************
2025-07-03 16:28:51,674 p=95976 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:51,675 p=95976 u=bill n=ansible INFO| TASK [Test with cmd instead of PowerShell] ***********************************************************************************
2025-07-03 16:28:53,484 p=95976 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:53,486 p=95976 u=bill n=ansible INFO| TASK [Show cmd result] *******************************************************************************************************
2025-07-03 16:28:53,502 p=95976 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "CMD result: ['The command completed successfully.', '']"
}
2025-07-03 16:28:53,503 p=95976 u=bill n=ansible INFO| TASK [Test drive access with cmd] ********************************************************************************************
2025-07-03 16:28:55,303 p=95976 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:55,305 p=95976 u=bill n=ansible INFO| TASK [Show cmd access] *******************************************************************************************************
2025-07-03 16:28:55,322 p=95976 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "CMD access: FAILED: The system cannot find the path specified.\r\n"
}
2025-07-03 16:28:55,324 p=95976 u=bill n=ansible INFO| TASK [Check net use status] **************************************************************************************************
2025-07-03 16:28:57,121 p=95976 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:57,123 p=95976 u=bill n=ansible INFO| TASK [Show net use status] ***************************************************************************************************
2025-07-03 16:28:57,134 p=95976 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "New connections will be remembered.",
        "",
        "",
        "Status       Local     Remote                    Network",
        "",
        "-------------------------------------------------------------------------------",
        "Unavailable  M:        \\\\192.168.86.109\\media    Microsoft Windows Network",
        "The command completed successfully.",
        ""
    ]
}
2025-07-03 16:28:57,136 p=95976 u=bill n=ansible INFO| TASK [Try to refresh the connection] *****************************************************************************************
2025-07-03 16:28:58,993 p=95976 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:28:58,995 p=95976 u=bill n=ansible INFO| TASK [Show refresh result] ***************************************************************************************************
2025-07-03 16:28:59,011 p=95976 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Refresh result: ['M: was deleted successfully.', '', 'The command completed successfully.', '']"
}
2025-07-03 16:28:59,013 p=95976 u=bill n=ansible INFO| TASK [Final test - try to access] ********************************************************************************************
2025-07-03 16:29:00,807 p=95976 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:00,809 p=95976 u=bill n=ansible INFO| TASK [Show final test] *******************************************************************************************************
2025-07-03 16:29:00,827 p=95976 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Final test: FAILED: The system cannot find the path specified.\r\n"
}
2025-07-03 16:29:00,828 p=95976 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:29:00,828 p=95976 u=bill n=ansible INFO| windows11                  : ok=11   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:29:28,138 p=96078 u=bill n=ansible INFO| PLAY [Windows SMB Service and Context Test] **********************************************************************************
2025-07-03 16:29:28,144 p=96078 u=bill n=ansible INFO| TASK [Check Windows services related to SMB] *********************************************************************************
2025-07-03 16:29:30,054 p=96078 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:30,056 p=96078 u=bill n=ansible INFO| TASK [Show SMB services] *****************************************************************************************************
2025-07-03 16:29:30,068 p=96078 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "",
        "Name                 Status",
        "----                 ------",
        "FrameServer         Stopped",
        "FrameServerMonitor  Stopped",
        "LanmanServer        Running",
        "LanmanWorkstation   Running",
        "msiserver           Stopped",
        "P9RdrService_4eea8a Stopped",
        "",
        ""
    ]
}
2025-07-03 16:29:30,070 p=96078 u=bill n=ansible INFO| TASK [Check if Workstation service is running] *******************************************************************************
2025-07-03 16:29:32,308 p=96078 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:29:32,310 p=96078 u=bill n=ansible INFO| TASK [Show workstation service status] ***************************************************************************************
2025-07-03 16:29:32,323 p=96078 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Workstation service: running"
}
2025-07-03 16:29:32,324 p=96078 u=bill n=ansible INFO| TASK [Clear all mappings] ****************************************************************************************************
2025-07-03 16:29:34,126 p=96078 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:34,127 p=96078 u=bill n=ansible INFO| TASK [Try mapping with different syntax] *************************************************************************************
2025-07-03 16:29:35,947 p=96078 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:35,949 p=96078 u=bill n=ansible INFO| TASK [Show alternative mapping result] ***************************************************************************************
2025-07-03 16:29:35,966 p=96078 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Alt mapping: ['The command completed successfully.', '']"
}
2025-07-03 16:29:35,967 p=96078 u=bill n=ansible INFO| TASK [Check net use immediately after] ***************************************************************************************
2025-07-03 16:29:37,793 p=96078 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:37,795 p=96078 u=bill n=ansible INFO| TASK [Show net use status] ***************************************************************************************************
2025-07-03 16:29:37,806 p=96078 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "New connections will be remembered.",
        "",
        "",
        "Status       Local     Remote                    Network",
        "",
        "-------------------------------------------------------------------------------",
        "Unavailable  M:        \\\\192.168.86.109\\media    Microsoft Windows Network",
        "The command completed successfully.",
        ""
    ]
}
2025-07-03 16:29:37,808 p=96078 u=bill n=ansible INFO| TASK [Try to force refresh Windows network] **********************************************************************************
2025-07-03 16:29:49,889 p=96078 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:49,891 p=96078 u=bill n=ansible INFO| TASK [Remap after refresh] ***************************************************************************************************
2025-07-03 16:29:51,758 p=96078 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:51,761 p=96078 u=bill n=ansible INFO| TASK [Show remap result] *****************************************************************************************************
2025-07-03 16:29:51,778 p=96078 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Remap result: ['The command completed successfully.', '']"
}
2025-07-03 16:29:51,779 p=96078 u=bill n=ansible INFO| TASK [Check final status] ****************************************************************************************************
2025-07-03 16:29:53,576 p=96078 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:29:53,578 p=96078 u=bill n=ansible INFO| TASK [Show final status] *****************************************************************************************************
2025-07-03 16:29:53,589 p=96078 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "New connections will be remembered.",
        "",
        "",
        "Status       Local     Remote                    Network",
        "",
        "-------------------------------------------------------------------------------",
        "Unavailable  M:        \\\\192.168.86.109\\media    Microsoft Windows Network",
        "The command completed successfully.",
        ""
    ]
}
2025-07-03 16:29:53,590 p=96078 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:29:53,590 p=96078 u=bill n=ansible INFO| windows11                  : ok=14   changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:30:20,683 p=96230 u=bill n=ansible INFO| PLAY [Windows SMB User Context Test] *****************************************************************************************
2025-07-03 16:30:20,688 p=96230 u=bill n=ansible INFO| TASK [Clear all mappings] ****************************************************************************************************
2025-07-03 16:30:22,525 p=96230 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:30:22,527 p=96230 u=bill n=ansible INFO| TASK [Check current user context] ********************************************************************************************
2025-07-03 16:30:24,360 p=96230 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:30:24,362 p=96230 u=bill n=ansible INFO| TASK [Show current user] *****************************************************************************************************
2025-07-03 16:30:24,377 p=96230 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Current user: pc-win11\\wknig"
}
2025-07-03 16:30:24,379 p=96230 u=bill n=ansible INFO| TASK [Try using win_mapped_drive module instead] *****************************************************************************
2025-07-03 16:30:26,367 p=96230 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:30:26,369 p=96230 u=bill n=ansible INFO| TASK [Show mapped drive result] **********************************************************************************************
2025-07-03 16:30:26,380 p=96230 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Mapped drive result: {'changed': True, 'failed': False, 'failed_when_result': False}"
}
2025-07-03 16:30:26,382 p=96230 u=bill n=ansible INFO| TASK [Test drive access after win_mapped_drive] ******************************************************************************
2025-07-03 16:30:28,215 p=96230 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:30:28,217 p=96230 u=bill n=ansible INFO| TASK [Show test path result] *************************************************************************************************
2025-07-03 16:30:28,232 p=96230 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Test-Path result: False"
}
2025-07-03 16:30:28,234 p=96230 u=bill n=ansible INFO| TASK [If that worked, test directory listing] ********************************************************************************
2025-07-03 16:30:28,246 p=96230 u=bill n=ansible INFO| skipping: [windows11]
2025-07-03 16:30:28,247 p=96230 u=bill n=ansible INFO| TASK [Show directory listing] ************************************************************************************************
2025-07-03 16:30:28,259 p=96230 u=bill n=ansible INFO| skipping: [windows11]
2025-07-03 16:30:28,261 p=96230 u=bill n=ansible INFO| TASK [Check all drives again] ************************************************************************************************
2025-07-03 16:30:30,413 p=96230 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:30:30,415 p=96230 u=bill n=ansible INFO| TASK [Show all drives] *******************************************************************************************************
2025-07-03 16:30:30,426 p=96230 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "",
        "Name           Used (GB)     Free (GB) Provider      Root                                               CurrentLocation",
        "----           ---------     --------- --------      ----                                               ---------------",
        "C                  41.62         37.64 FileSystem    C:\\                                                    Users\\wknig",
        "D                   5.42          0.00 FileSystem    D:\\                                                               ",
        "",
        ""
    ]
}
2025-07-03 16:30:30,427 p=96230 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:30:30,427 p=96230 u=bill n=ansible INFO| windows11                  : ok=9    changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2025-07-03 16:30:58,547 p=96324 u=bill n=ansible INFO| PLAY [Windows SMB Environment Check] *****************************************************************************************
2025-07-03 16:30:58,552 p=96324 u=bill n=ansible INFO| TASK [Check Windows version] *************************************************************************************************
2025-07-03 16:30:58,561 p=96324 u=bill n=ansible INFO| fatal: [windows11]: FAILED! => {"msg": "The field 'password' has an invalid value, which includes an undefined variable.. 'windows_password' is undefined"}
2025-07-03 16:30:58,561 p=96324 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:30:58,561 p=96324 u=bill n=ansible INFO| windows11                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2025-07-03 16:31:16,900 p=96363 u=bill n=ansible INFO| PLAY [Windows SMB Environment Check] *****************************************************************************************
2025-07-03 16:31:16,906 p=96363 u=bill n=ansible INFO| TASK [Check Windows version] *************************************************************************************************
2025-07-03 16:31:18,860 p=96363 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:31:18,862 p=96363 u=bill n=ansible INFO| TASK [Show Windows version] **************************************************************************************************
2025-07-03 16:31:18,877 p=96363 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Windows version: Microsoft Windows 11 Pro"
}
2025-07-03 16:31:18,879 p=96363 u=bill n=ansible INFO| TASK [Check SMB client configuration] ****************************************************************************************
2025-07-03 16:31:25,208 p=96363 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:31:25,210 p=96363 u=bill n=ansible INFO| TASK [Show SMB client config] ************************************************************************************************
2025-07-03 16:31:25,223 p=96363 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "",
        "",
        "AuditInsecureGuestLogon               : False",
        "AuditServerDoesNotSupportEncryption   : False",
        "AuditServerDoesNotSupportSigning      : False",
        "BlockNTLM                             : False",
        "BlockNTLMServerExceptionList          : ",
        "CompressibilitySamplingSize           : 524288000",
        "CompressibleThreshold                 : 104857600",
        "ConnectionCountPerRssNetworkInterface : 4",
        "DirectoryCacheEntriesMax              : 16",
        "DirectoryCacheEntrySizeMax            : 65536",
        "DirectoryCacheLifetime                : 10",
        "DisableCompression                    : False",
        "DisabledSMBQUICServerExceptionList    : ",
        "DormantFileLimit                      : 1023",
        "EnableBandwidthThrottling             : True",
        "EnableByteRangeLockingOnReadOnlyFiles : True",
        "EnableCompressibilitySampling         : False",
        "EnableInsecureGuestLogons             : False",
        "EnableLargeMtu                        : True",
        "EnableLoadBalanceScaleOut             : True",
        "EnableMailslots                       : False",
        "EnableMultiChannel                    : True",
        "EnableSecuritySignature               : True",
        "EnableSMBQUIC                         : True",
        "EncryptionCiphers                     : AES_128_GCM, AES_128_CCM, AES_256_GCM, AES_256_CCM",
        "ExtendedSessionTimeout                : 1000",
        "FileInfoCacheEntriesMax               : 64",
        "FileInfoCacheLifetime                 : 10",
        "FileNotFoundCacheEntriesMax           : 128",
        "FileNotFoundCacheLifetime             : 5",
        "ForceSMBEncryptionOverQuic            : False",
        "InvalidAuthenticationCacheLifetime    : 30",
        "KeepConn                              : 600",
        "MaxCmds                               : 50",
        "MaximumConnectionCountPerServer       : 32",
        "OplocksDisabled                       : False",
        "RequestCompression                    : False",
        "RequireEncryption                     : False",
        "RequireSecuritySignature              : True",
        "SessionTimeout                        : 60",
        "SkipCertificateCheck                  : False",
        "Smb2DialectMax                        : None",
        "Smb2DialectMin                        : None",
        "UseOpportunisticLocking               : True",
        "WindowSizeThreshold                   : 8",
        "",
        "",
        ""
    ]
}
2025-07-03 16:31:25,224 p=96363 u=bill n=ansible INFO| TASK [Check if SMB1 is enabled] **********************************************************************************************
2025-07-03 16:31:27,931 p=96363 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:31:27,933 p=96363 u=bill n=ansible INFO| TASK [Show SMB1 status] ******************************************************************************************************
2025-07-03 16:31:27,945 p=96363 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "",
        "",
        "FeatureName      : SMB1Protocol",
        "DisplayName      : SMB 1.0/CIFS File Sharing Support",
        "Description      : Support for the SMB 1.0/CIFS file sharing protocol, and the Computer Browser protocol.",
        "RestartRequired  : Possible",
        "State            : Disabled",
        "CustomProperties : ",
        "                   ServerComponent\\Description : Support for the SMB 1.0/CIFS file sharing protocol, and the Computer ",
        "                   Browser protocol.",
        "                   ServerComponent\\DisplayName : SMB 1.0/CIFS File Sharing Support",
        "                   ServerComponent\\Id : 487",
        "                   ServerComponent\\Type : Feature",
        "                   ServerComponent\\UniqueName : FS-SMB1",
        "                   ServerComponent\\Deploys\\Update\\Name : SMB1Protocol",
        "                   ",
        "",
        "",
        ""
    ]
}
2025-07-03 16:31:27,946 p=96363 u=bill n=ansible INFO| TASK [Check group policy settings for network drives] ************************************************************************
2025-07-03 16:31:30,488 p=96363 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:31:30,490 p=96363 u=bill n=ansible INFO| TASK [Show relevant group policy info] ***************************************************************************************
2025-07-03 16:31:30,502 p=96363 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Group policy results: ['    -------------------------------------------------------------------', '        Local Group Policy', '            Filtering:  Not Applied (Empty)', '', '    The user is a part of the following security groups', '    ---------------------------------------------------', '        High Mandatory Level', '        Everyone', '        Local account and member of Administrators group', '        BUILTIN\\\\Users', '        BUILTIN\\\\Administrators', '        NT AUTHORITY\\\\INTERACTIVE', '        CONSOLE LOGON', '        NT AUTHORITY\\\\Authenticated Users', '        This Organization', '        wknight7@outlook.com', '        Local account', '        LOCAL', '        Cloud Account Authentication', '        ']"
}
2025-07-03 16:31:30,503 p=96363 u=bill n=ansible INFO| TASK [Check if network location is set correctly] ****************************************************************************
2025-07-03 16:31:33,165 p=96363 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:31:33,167 p=96363 u=bill n=ansible INFO| TASK [Show network profile] **************************************************************************************************
2025-07-03 16:31:33,179 p=96363 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "",
        "",
        "Name                     : Network",
        "InterfaceAlias           : Ethernet",
        "InterfaceIndex           : 14",
        "NetworkCategory          : Private",
        "DomainAuthenticationKind : None",
        "IPv4Connectivity         : Internet",
        "IPv6Connectivity         : NoTraffic",
        "",
        "",
        ""
    ]
}
2025-07-03 16:31:33,181 p=96363 u=bill n=ansible INFO| TASK [Test basic network connectivity to TrueNAS SMB port] *******************************************************************
2025-07-03 16:31:42,116 p=96363 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:31:42,117 p=96363 u=bill n=ansible INFO| TASK [Show SMB port test] ****************************************************************************************************
2025-07-03 16:31:42,129 p=96363 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "",
        "",
        "ComputerName     : 192.168.86.109",
        "RemoteAddress    : 192.168.86.109",
        "RemotePort       : 445",
        "InterfaceAlias   : Ethernet",
        "SourceAddress    : 192.168.86.89",
        "TcpTestSucceeded : True",
        "",
        "",
        ""
    ]
}
2025-07-03 16:31:42,131 p=96363 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:31:42,131 p=96363 u=bill n=ansible INFO| windows11                  : ok=12   changed=6    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:32:19,183 p=96536 u=bill n=ansible INFO| PLAY [Windows SMB Connection Details] ****************************************************************************************
2025-07-03 16:32:19,189 p=96536 u=bill n=ansible INFO| TASK [Clear all mappings first] **********************************************************************************************
2025-07-03 16:32:21,069 p=96536 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:32:21,070 p=96536 u=bill n=ansible INFO| TASK [Map drive with detailed error checking] ********************************************************************************
2025-07-03 16:32:22,879 p=96536 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:32:22,881 p=96536 u=bill n=ansible INFO| TASK [Show mapping result] ***************************************************************************************************
2025-07-03 16:32:22,897 p=96536 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Mapping result: RC=0, STDOUT=The command completed successfully.\r\n\r\n, STDERR="
}
2025-07-03 16:32:22,899 p=96536 u=bill n=ansible INFO| TASK [Get detailed SMB connection info] **************************************************************************************
2025-07-03 16:32:25,822 p=96536 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:32:25,823 p=96536 u=bill n=ansible INFO| TASK [Show SMB connections] **************************************************************************************************
2025-07-03 16:32:25,834 p=96536 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "SMB connections: ['', 'ServerName     ShareName    UserName       Credential Dialect NumOpens', '----------     ---------    --------       ---------- ------- --------', '192.168.86.109 Documents    PC-WIN11\\\\wknig \\\\bill      3.1.1   1       ', '192.168.86.109 Downloads    PC-WIN11\\\\wknig \\\\bill      3.1.1   1       ', '192.168.86.109 IPC$         PC-WIN11\\\\wknig \\\\bill      3.1.1   0       ', '192.168.86.109 media        PC-WIN11\\\\wknig \\\\bill      3.1.1   1       ', '192.168.86.109 paper        PC-WIN11\\\\wknig \\\\bill      3.1.1   1       ', '192.168.86.109 shared_files PC-WIN11\\\\wknig \\\\bill      3.1.1   1       ', '192.168.86.109 workouts     PC-WIN11\\\\wknig \\\\bill      3.1.1   1       ', '', '']"
}
2025-07-03 16:32:25,836 p=96536 u=bill n=ansible INFO| TASK [Check SMB shares from Windows perspective] *****************************************************************************
2025-07-03 16:32:28,693 p=96536 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:32:28,694 p=96536 u=bill n=ansible INFO| TASK [Show SMB shares] *******************************************************************************************************
2025-07-03 16:32:28,706 p=96536 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "SMB shares: ['', 'Name   ScopeName Path       Description  ', '----   --------- ----       -----------  ', 'ADMIN$ *         C:\\\\WINDOWS Remote Admin ', 'C$     *         C:\\\\        Default share', 'IPC$   *                    Remote IPC   ', '', '']"
}
2025-07-03 16:32:28,708 p=96536 u=bill n=ansible INFO| TASK [Check Windows event logs for SMB errors] *******************************************************************************
2025-07-03 16:32:30,924 p=96536 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:32:30,926 p=96536 u=bill n=ansible INFO| TASK [Show SMB events] *******************************************************************************************************
2025-07-03 16:32:30,938 p=96536 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "SMB events: []"
}
2025-07-03 16:32:30,939 p=96536 u=bill n=ansible INFO| TASK [Try to access the share via PowerShell directly] ***********************************************************************
2025-07-03 16:32:32,820 p=96536 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:32:32,821 p=96536 u=bill n=ansible INFO| TASK [Show direct access result] *********************************************************************************************
2025-07-03 16:32:32,838 p=96536 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Direct access: FAILED: Get-ChildItem : Access is denied\r\nAt line:1 char:65\r\n+ ... xt.UTF8Encoding $false; Get-ChildItem \"\\\\192.168.86.109\\media\" -Force\r\n+                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : PermissionDenied: (\\\\192.168.86.109\\media:String) [Get-ChildItem], UnauthorizedAccessExc \r\n   eption\r\n    + FullyQualifiedErrorId : ItemExistsUnauthorizedAccessError,Microsoft.PowerShell.Commands.GetChildItemCommand\r\n \r\nGet-ChildItem : Cannot find path '\\\\192.168.86.109\\media' because it does not exist.\r\nAt line:1 char:65\r\n+ ... xt.UTF8Encoding $false; Get-ChildItem \"\\\\192.168.86.109\\media\" -Force\r\n+                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (\\\\192.168.86.109\\media:String) [Get-ChildItem], ItemNotFoundException\r\n    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand"
}
2025-07-03 16:32:32,839 p=96536 u=bill n=ansible INFO| TASK [Check if the drive appears in Windows explorer] ************************************************************************
2025-07-03 16:32:34,782 p=96536 u=bill n=ansible INFO| changed: [windows11]
2025-07-03 16:32:34,784 p=96536 u=bill n=ansible INFO| TASK [Show explorer check] ***************************************************************************************************
2025-07-03 16:32:34,796 p=96536 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "Explorer check: M:\\\r\n"
}
2025-07-03 16:32:34,798 p=96536 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:32:34,799 p=96536 u=bill n=ansible INFO| windows11                  : ok=13   changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2025-07-03 16:33:40,913 p=96674 u=bill n=ansible INFO| PLAY [Windows System Management] *********************************************************************************************
2025-07-03 16:33:40,919 p=96674 u=bill n=ansible INFO| TASK [Gathering Facts] *******************************************************************************************************
2025-07-03 16:33:43,700 p=96674 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:33:43,702 p=96674 u=bill n=ansible INFO| TASK [windows : include_tasks] ***********************************************************************************************
2025-07-03 16:33:43,720 p=96674 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 16:33:43,722 p=96674 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] **********************************************************
2025-07-03 16:33:43,741 p=96674 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 16:33:43,744 p=96674 u=bill n=ansible INFO| TASK [windows : Debug - Check TrueNAS connection variables] ******************************************************************
2025-07-03 16:33:43,762 p=96674 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "TrueNAS server IP: 192.168.86.109",
        "SMB user: bill",
        "SMB password defined: YES"
    ]
}
2025-07-03 16:33:43,764 p=96674 u=bill n=ansible INFO| TASK [windows : Test connectivity to TrueNAS server] *************************************************************************
2025-07-03 16:33:45,361 p=96674 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:33:45,364 p=96674 u=bill n=ansible INFO| TASK [windows : Display TrueNAS connectivity status] *************************************************************************
2025-07-03 16:33:45,380 p=96674 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "TrueNAS server (192.168.86.109): ✅ Reachable"
}
2025-07-03 16:33:45,383 p=96674 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] **************************************************
2025-07-03 16:33:47,166 p=96674 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use H: /delete /yes", "delta": "0:00:00.057477", "end": "2025-07-03 20:33:45.173596", "item": {"drive_letter": "H:", "name": "User Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\Documents"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:33:45.116118", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:33:48,832 p=96674 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use I: /delete /yes", "delta": "0:00:00.055456", "end": "2025-07-03 20:33:46.833231", "item": {"drive_letter": "I:", "name": "User Downloads", "persistent": true, "remote_path": "\\\\192.168.86.109\\Downloads"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:33:46.777774", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:33:50,486 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:33:52,174 p=96674 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use P: /delete /yes", "delta": "0:00:00.055187", "end": "2025-07-03 20:33:50.203716", "item": {"drive_letter": "P:", "name": "Paperless Documents", "persistent": true, "remote_path": "\\\\192.168.86.109\\paper"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:33:50.148529", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:33:53,819 p=96674 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use S: /delete /yes", "delta": "0:00:00.063251", "end": "2025-07-03 20:33:51.855386", "item": {"drive_letter": "S:", "name": "Shared Files", "persistent": true, "remote_path": "\\\\192.168.86.109\\shared_files"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:33:51.792135", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:33:55,494 p=96674 u=bill n=ansible INFO| failed: [windows11] (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}) => {"ansible_loop_var": "item", "changed": true, "cmd": "net use W: /delete /yes", "delta": "0:00:00.057227", "end": "2025-07-03 20:33:53.495244", "item": {"drive_letter": "W:", "name": "Workouts", "persistent": true, "remote_path": "\\\\192.168.86.109\\workouts"}, "msg": "non-zero return code", "rc": 2, "start": "2025-07-03 20:33:53.438016", "stderr": "The network connection could not be found.\r\n\r\nMore help is available by typing NET HELPMSG 2250.\r\n\r\n", "stderr_lines": ["The network connection could not be found.", "", "More help is available by typing NET HELPMSG 2250.", ""], "stdout": "", "stdout_lines": []}
2025-07-03 16:33:55,525 p=96674 u=bill n=ansible INFO| ...ignoring
2025-07-03 16:33:55,528 p=96674 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] **************************************************************
2025-07-03 16:33:57,455 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:33:59,272 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:34:01,110 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:34:02,941 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:34:04,742 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:34:06,532 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:34:06,564 p=96674 u=bill n=ansible INFO| TASK [windows : Display drive mapping results] *******************************************************************************
2025-07-03 16:34:06,586 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'H', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\Documents'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ✅ Mapped successfully"
}
2025-07-03 16:34:06,593 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'I', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\Downloads'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ✅ Mapped successfully"
}
2025-07-03 16:34:06,600 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'M', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\media'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ✅ Mapped successfully"
}
2025-07-03 16:34:06,606 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'P', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\paper'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ✅ Mapped successfully"
}
2025-07-03 16:34:06,613 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'S', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\shared_files'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ✅ Mapped successfully"
}
2025-07-03 16:34:06,619 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'W', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\workouts'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ✅ Mapped successfully"
}
2025-07-03 16:34:06,622 p=96674 u=bill n=ansible INFO| TASK [windows : Test network drive connectivity] *****************************************************************************
2025-07-03 16:34:08,440 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:34:10,164 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:34:11,901 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:34:13,610 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:34:15,332 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:34:17,055 p=96674 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:34:17,089 p=96674 u=bill n=ansible INFO| TASK [windows : Report connectivity status] **********************************************************************************
2025-07-03 16:34:17,115 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:34:06.092623', 'stdout': 'H:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("H:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.393194', 'end': '2025-07-03 20:34:06.485818', 'stdout_lines': ['H:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ❌ Failed to connect"
}
2025-07-03 16:34:17,122 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:34:07.807992', 'stdout': 'I:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("I:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.398958', 'end': '2025-07-03 20:34:08.206951', 'stdout_lines': ['I:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ❌ Failed to connect"
}
2025-07-03 16:34:17,129 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:34:09.558485', 'stdout': 'M:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("M:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.379480', 'end': '2025-07-03 20:34:09.937965', 'stdout_lines': ['M:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ❌ Failed to connect"
}
2025-07-03 16:34:17,136 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:34:11.263804', 'stdout': 'P:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("P:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.391179', 'end': '2025-07-03 20:34:11.654983', 'stdout_lines': ['P:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ❌ Failed to connect"
}
2025-07-03 16:34:17,143 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:34:12.986898', 'stdout': 'S:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("S:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.391265', 'end': '2025-07-03 20:34:13.378163', 'stdout_lines': ['S:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ❌ Failed to connect"
}
2025-07-03 16:34:17,151 p=96674 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:34:14.698137', 'stdout': 'W:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("W:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.395167', 'end': '2025-07-03 20:34:15.093305', 'stdout_lines': ['W:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ❌ Failed to connect"
}
2025-07-03 16:34:17,154 p=96674 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:34:17,154 p=96674 u=bill n=ansible INFO| windows11                  : ok=11   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2025-07-03 16:34:41,820 p=96870 u=bill n=ansible INFO| PLAY [Windows System Management] *********************************************************************************************
2025-07-03 16:34:41,827 p=96870 u=bill n=ansible INFO| TASK [Gathering Facts] *******************************************************************************************************
2025-07-03 16:34:44,669 p=96870 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:34:44,671 p=96870 u=bill n=ansible INFO| TASK [windows : include_tasks] ***********************************************************************************************
2025-07-03 16:34:44,690 p=96870 u=bill n=ansible INFO| included: /home/bill/git/home.net/roles/windows/tasks/network_drives.yml for windows11
2025-07-03 16:34:44,692 p=96870 u=bill n=ansible INFO| TASK [windows : Debug - Check if windows_network_drives is defined] **********************************************************
2025-07-03 16:34:44,713 p=96870 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "windows_network_drives is defined with 6 items"
}
2025-07-03 16:34:44,715 p=96870 u=bill n=ansible INFO| TASK [windows : Debug - Check TrueNAS connection variables] ******************************************************************
2025-07-03 16:34:44,735 p=96870 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": [
        "TrueNAS server IP: 192.168.86.109",
        "SMB user: bill",
        "SMB password defined: YES"
    ]
}
2025-07-03 16:34:44,737 p=96870 u=bill n=ansible INFO| TASK [windows : Test connectivity to TrueNAS server] *************************************************************************
2025-07-03 16:34:46,353 p=96870 u=bill n=ansible INFO| ok: [windows11]
2025-07-03 16:34:46,356 p=96870 u=bill n=ansible INFO| TASK [windows : Display TrueNAS connectivity status] *************************************************************************
2025-07-03 16:34:46,374 p=96870 u=bill n=ansible INFO| ok: [windows11] => {
    "msg": "TrueNAS server (192.168.86.109): ✅ Reachable"
}
2025-07-03 16:34:46,377 p=96870 u=bill n=ansible INFO| TASK [windows : Ensure network drives are disconnected before reconnecting] **************************************************
2025-07-03 16:34:48,132 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:34:49,864 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:34:51,633 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:34:53,323 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:34:55,015 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:34:56,672 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:34:56,706 p=96870 u=bill n=ansible INFO| TASK [windows : Map persistent network drives with credentials] **************************************************************
2025-07-03 16:34:58,615 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:35:00,469 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:35:02,463 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:35:04,259 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:35:06,093 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:35:09,955 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:35:09,989 p=96870 u=bill n=ansible INFO| TASK [windows : Display drive mapping results] *******************************************************************************
2025-07-03 16:35:10,016 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'H', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\Documents'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ✅ Mapped successfully"
}
2025-07-03 16:35:10,022 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'I', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\Downloads'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ✅ Mapped successfully"
}
2025-07-03 16:35:10,029 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'M', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\media'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ✅ Mapped successfully"
}
2025-07-03 16:35:10,036 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'P', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\paper'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ✅ Mapped successfully"
}
2025-07-03 16:35:10,042 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'S', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\shared_files'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ✅ Mapped successfully"
}
2025-07-03 16:35:10,050 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'changed': True, 'invocation': {'module_args': {'letter': 'W', 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'username': 'bill', 'state': 'present', 'path': '\\\\192.168.86.109\\workouts'}}, 'failed': False, 'failed_when_result': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ✅ Mapped successfully"
}
2025-07-03 16:35:10,054 p=96870 u=bill n=ansible INFO| TASK [windows : Test network drive connectivity] *****************************************************************************
2025-07-03 16:35:11,883 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True})
2025-07-03 16:35:13,636 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True})
2025-07-03 16:35:15,459 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True})
2025-07-03 16:35:17,196 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True})
2025-07-03 16:35:18,968 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True})
2025-07-03 16:35:20,668 p=96870 u=bill n=ansible INFO| changed: [windows11] => (item={'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True})
2025-07-03 16:35:20,701 p=96870 u=bill n=ansible INFO| TASK [windows : Report connectivity status] **********************************************************************************
2025-07-03 16:35:20,736 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:35:09.554109', 'stdout': 'H:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("H:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.367458', 'end': '2025-07-03 20:35:09.921568', 'stdout_lines': ['H:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Documents', 'drive_letter': 'H:', 'remote_path': '\\\\192.168.86.109\\Documents', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive H: (User Documents): ✅ Connected"
}
2025-07-03 16:35:20,747 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:35:11.266056', 'stdout': 'I:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("I:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.399392', 'end': '2025-07-03 20:35:11.665448', 'stdout_lines': ['I:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'User Downloads', 'drive_letter': 'I:', 'remote_path': '\\\\192.168.86.109\\Downloads', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive I: (User Downloads): ✅ Connected"
}
2025-07-03 16:35:20,757 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:35:13.108693', 'stdout': 'M:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("M:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.387243', 'end': '2025-07-03 20:35:13.495937', 'stdout_lines': ['M:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Media', 'drive_letter': 'M:', 'remote_path': '\\\\192.168.86.109\\media', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive M: (Media): ✅ Connected"
}
2025-07-03 16:35:20,766 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:35:14.850994', 'stdout': 'P:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("P:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.387472', 'end': '2025-07-03 20:35:15.238466', 'stdout_lines': ['P:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Paperless Documents', 'drive_letter': 'P:', 'remote_path': '\\\\192.168.86.109\\paper', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive P: (Paperless Documents): ✅ Connected"
}
2025-07-03 16:35:20,775 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:35:16.599780', 'stdout': 'S:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("S:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.395225', 'end': '2025-07-03 20:35:16.995005', 'stdout_lines': ['S:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Shared Files', 'drive_letter': 'S:', 'remote_path': '\\\\192.168.86.109\\shared_files', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive S: (Shared Files): ✅ Connected"
}
2025-07-03 16:35:20,784 p=96870 u=bill n=ansible INFO| ok: [windows11] => (item={'start': '2025-07-03 20:35:18.324885', 'stdout': 'W:\\\r\n', 'cmd': '(New-Object -ComObject Shell.Application).Namespace("W:").Self.Path', 'stderr': '', 'changed': True, 'rc': 0, 'delta': '0:00:00.382870', 'end': '2025-07-03 20:35:18.707755', 'stdout_lines': ['W:\\'], 'stderr_lines': [], 'failed': False, 'failed_when_result': False, 'item': {'name': 'Workouts', 'drive_letter': 'W:', 'remote_path': '\\\\192.168.86.109\\workouts', 'persistent': True}, 'ansible_loop_var': 'item'}) => {
    "msg": "Drive W: (Workouts): ✅ Connected"
}
2025-07-03 16:35:20,788 p=96870 u=bill n=ansible INFO| PLAY RECAP *******************************************************************************************************************
2025-07-03 16:35:20,788 p=96870 u=bill n=ansible INFO| windows11                  : ok=11   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
